Cherry-picking from 436bfd0121cc094ad53000eadd61fba397ed06f9 to 80ba874d752b77e7f913ca4b59479204bd61c08a
----------------------------------------
Cherry-picking 436bfd0121cc094ad53000eadd61fba397ed06f9
Auto-merging kernel/sys.c
[main b7387f575f68] syscall: Fake uname to 4.19 for bpfloader/netd
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Fri Oct 6 05:32:56 2023 +0200
 1 file changed, 6 insertions(+)
Successfully cherry-picked 436bfd0121cc094ad53000eadd61fba397ed06f9
----------------------------------------
Cherry-picking 213e55c0cc7d855ed2123865d2a1959b588000ba
Auto-merging include/uapi/linux/bpf.h
Auto-merging net/core/filter.c
[main 8568094e502d] BACKPORT: bpf: add skb_load_bytes_relative helper
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Fri May 4 01:08:15 2018 +0200
 2 files changed, 75 insertions(+)
Successfully cherry-picked 213e55c0cc7d855ed2123865d2a1959b588000ba
----------------------------------------
Cherry-picking 4ed29362c42de76aa09c2ff6bd25512b4a4a1158
[main 7a80553d8c5b] BACKPORT: bpf: encapsulate verifier log state into a structure
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Oct 9 10:30:10 2017 -0700
 2 files changed, 43 insertions(+), 27 deletions(-)
Successfully cherry-picked 4ed29362c42de76aa09c2ff6bd25512b4a4a1158
----------------------------------------
Cherry-picking 1b4a3e9c579b6bfd20e3ea47539edb5136c386d5
[main 9698fc7d173b] BACKPORT: bpf: Rename bpf_verifer_log
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Sat Mar 24 11:44:22 2018 -0700
 2 files changed, 5 insertions(+), 5 deletions(-)
Successfully cherry-picked 1b4a3e9c579b6bfd20e3ea47539edb5136c386d5
----------------------------------------
Cherry-picking e1432ae61f8fae764b4f8829e1abb7c974daef7d
[main f1daba591b0f] BACKPORT: bpf: btf: Introduce BPF Type Format (BTF)
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:55:57 2018 -0700
 3 files changed, 1046 insertions(+)
 create mode 100644 include/uapi/linux/btf.h
 create mode 100644 kernel/bpf/btf.c
Successfully cherry-picked e1432ae61f8fae764b4f8829e1abb7c974daef7d
----------------------------------------
Cherry-picking bece722fd70f5a2d6b24bca7ccf78dd6561b7f4c
[main 8a27b7561fab] bpf: Update logging functions to work with BTF
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Sun Oct 15 14:57:14 2023 +0200
 3 files changed, 80 insertions(+), 21 deletions(-)
 create mode 100644 scripts/module-lto.lds
Successfully cherry-picked bece722fd70f5a2d6b24bca7ccf78dd6561b7f4c
----------------------------------------
Cherry-picking d364ef2ec731702fe645bec7a3ebbbd5f33772ba
[main 097a106ed341] bpf: btf: Validate type reference
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:55:58 2018 -0700
 2 files changed, 702 insertions(+), 1 deletion(-)
 create mode 100644 include/linux/btf.h
Successfully cherry-picked d364ef2ec731702fe645bec7a3ebbbd5f33772ba
----------------------------------------
Cherry-picking 238e9db7240fcc6abbb51c4f4c9b0db75cead527
[main c0ffaae8856a] bpf: btf: Check members of struct/union
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:55:59 2018 -0700
 1 file changed, 205 insertions(+)
Successfully cherry-picked 238e9db7240fcc6abbb51c4f4c9b0db75cead527
----------------------------------------
Cherry-picking 224cbc20119f112056ebf555e6537551f3a4502d
[main c3c2e5e8178f] bpf: btf: Add pretty print capability for data with BTF type info
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:56:00 2018 -0700
 2 files changed, 200 insertions(+)
Successfully cherry-picked 224cbc20119f112056ebf555e6537551f3a4502d
----------------------------------------
Cherry-picking 78a88e4feeec14d19884a2956a32522d8c83b821
Auto-merging include/uapi/linux/bpf.h
Auto-merging kernel/bpf/syscall.c
[main 644aee5ba373] BACKPORT: bpf: btf: Add BPF_BTF_LOAD command
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:56:01 2018 -0700
 4 files changed, 97 insertions(+)
Successfully cherry-picked 78a88e4feeec14d19884a2956a32522d8c83b821
----------------------------------------
Cherry-picking f474ed3f24adc51ce042caaf42af408fa773f930
Auto-merging kernel/bpf/syscall.c
[main 9a5b6caa730b] bpf: btf: Add BPF_OBJ_GET_INFO_BY_FD support to BTF fd
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:56:02 2018 -0700
 3 files changed, 23 insertions(+), 1 deletion(-)
Successfully cherry-picked f474ed3f24adc51ce042caaf42af408fa773f930
----------------------------------------
Cherry-picking 198c16b85a734e40562ea34ea7ad21983e4406f8
[main 2b4e9b822a81] BACKPORT: bpf: btf: Clean up btf.h in uapi
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Sat Apr 21 09:48:23 2018 -0700
 2 files changed, 13 insertions(+), 15 deletions(-)
Successfully cherry-picked 198c16b85a734e40562ea34ea7ad21983e4406f8
----------------------------------------
Cherry-picking 6892978ee11786f227451dff5d1f66bdfc321550
[main af6e5a2dd368] bpf: btf: Avoid WARN_ON when CONFIG_REFCOUNT_FULL=y
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Fri May 4 14:49:50 2018 -0700
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 6892978ee11786f227451dff5d1f66bdfc321550
----------------------------------------
Cherry-picking 2bd7fe25fea1bf36eefd42b7bcf6830b4ee19337
Auto-merging kernel/bpf/syscall.c
CONFLICT (content): Merge conflict in kernel/bpf/syscall.c
error: could not apply 2bd7fe25fea1... bpf: Fix compiler warning on info.map_ids for 32bit platform
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 2bd7fe25fea1bf36eefd42b7bcf6830b4ee19337
Auto-resolving conflicts by accepting incoming changes...
[main 06da64047090] bpf: Fix compiler warning on info.map_ids for 32bit platform
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Fri Sep 29 10:52:17 2017 -0700
 2 files changed, 170 insertions(+), 2 deletions(-)
 create mode 100644 cherry_pick_20250707_200921.log
----------------------------------------
Cherry-picking b86cbbc405814519b505d755a19516cf37118149
[main d6a2112819fb] bpf: btf: Change how section is supported in btf_header
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Tue May 22 14:57:18 2018 -0700
 2 files changed, 160 insertions(+), 57 deletions(-)
Successfully cherry-picked b86cbbc405814519b505d755a19516cf37118149
----------------------------------------
Cherry-picking ee5ecb40eb1b769567c5d417f8cf6a383ceb27ee
[main 2758e98340cb] bpf: btf: Check array->index_type
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Tue May 22 14:57:19 2018 -0700
 1 file changed, 56 insertions(+), 24 deletions(-)
Successfully cherry-picked ee5ecb40eb1b769567c5d417f8cf6a383ceb27ee
----------------------------------------
Cherry-picking fc897edc32c4c8032ca973a41903822044e0b9c3
[main 622db1a89195] bpf: btf: Remove unused bits from uapi/linux/btf.h
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Tue May 22 14:57:20 2018 -0700
 2 files changed, 44 insertions(+), 37 deletions(-)
Successfully cherry-picked fc897edc32c4c8032ca973a41903822044e0b9c3
----------------------------------------
Cherry-picking 4021fe17d198f94db87e2feac5dd57a891806e72
[main ca4015a0fce5] bpf: btf: Avoid variable length array
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed May 23 11:32:36 2018 -0700
 1 file changed, 5 insertions(+), 6 deletions(-)
Successfully cherry-picked 4021fe17d198f94db87e2feac5dd57a891806e72
----------------------------------------
Cherry-picking 4f70d72c35b88fbd2099698a59218249771580d7
[main cb5bf4f8c740] bpf: btf: avoid -Wreturn-type warning
 Author: Arnd Bergmann <arnd@arndb.de>
 Date: Fri May 25 23:33:19 2018 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 4f70d72c35b88fbd2099698a59218249771580d7
----------------------------------------
Cherry-picking 4ac5ae9625f12a5f2264f2d85d93f7e8997b3e0e
[main 22505baf8a28] bpf: btf: Check array t->size
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Sat Jun 2 09:06:50 2018 -0700
 1 file changed, 5 insertions(+)
Successfully cherry-picked 4ac5ae9625f12a5f2264f2d85d93f7e8997b3e0e
----------------------------------------
Cherry-picking b5f288dc299e8f2f369a64562af1a16b3e0b0c4a
[main aa9aac2b30eb] bpf: btf: Ensure t->type == 0 for BTF_KIND_FWD
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Sat Jun 2 09:06:51 2018 -0700
 1 file changed, 20 insertions(+), 1 deletion(-)
Successfully cherry-picked b5f288dc299e8f2f369a64562af1a16b3e0b0c4a
----------------------------------------
Cherry-picking 1a6aedc470b8b8de016e7335b929a191325cb28c
[main a0dcfbac3e46] bpf: btf: Fix bitfield extraction for big endian
 Author: Okash Khawaja <osk@fb.com>
 Date: Tue Jul 10 14:33:07 2018 -0700
 1 file changed, 13 insertions(+), 17 deletions(-)
Successfully cherry-picked 1a6aedc470b8b8de016e7335b929a191325cb28c
----------------------------------------
Cherry-picking 2553505c4ffbd9561e27d3298ece55c63fae7d92
[main 47f21708bfe9] bpf: btf: Clean up BTF_INT_BITS() in uapi btf.h
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Thu Jul 19 22:14:31 2018 -0700
 2 files changed, 11 insertions(+), 7 deletions(-)
Successfully cherry-picked 2553505c4ffbd9561e27d3298ece55c63fae7d92
----------------------------------------
Cherry-picking 01a23fe67dedc8630b1581855c8f09b5c25f1e35
[main 4c0d24450716] bpf: btf: Ensure the member->offset is in the right order
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Fri Jul 20 17:38:37 2018 -0700
 1 file changed, 13 insertions(+), 1 deletion(-)
Successfully cherry-picked 01a23fe67dedc8630b1581855c8f09b5c25f1e35
----------------------------------------
Cherry-picking 09d924bc93b3d1c63dc215fc58aeb417f7103d06
Auto-merging net/core/filter.c
[main d1b7e6abba7f] bpf: fix bpf_skb_load_bytes_relative pkt length check
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Sat Jul 28 00:17:56 2018 +0200
 1 file changed, 7 insertions(+), 5 deletions(-)
Successfully cherry-picked 09d924bc93b3d1c63dc215fc58aeb417f7103d06
----------------------------------------
Cherry-picking fdd2f9a15e9d33237f5a3e873bde87ee813321fa
[main f12df8430be8] bpf: btf: Fix end boundary calculation for type section
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Sep 12 10:29:11 2018 -0700
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked fdd2f9a15e9d33237f5a3e873bde87ee813321fa
----------------------------------------
Cherry-picking c78002d2dd27ab7ebacedfbda0efda1e38e753bb
[main e7bccdc8b4de] bpf: btf: Fix a missing check bug
 Author: Wenwen Wang <wang6495@umn.edu>
 Date: Sun Oct 7 15:23:15 2018 -0500
 1 file changed, 3 insertions(+)
Successfully cherry-picked c78002d2dd27ab7ebacedfbda0efda1e38e753bb
----------------------------------------
Cherry-picking 6ee1b466c23f6ef581d00951edac8fd040448aad
[main b1006c54a73c] bpf, btf: fix a missing check bug in btf_parse
 Author: Martin Lau <kafai@fb.com>
 Date: Wed Oct 24 20:42:25 2018 +0000
 1 file changed, 25 insertions(+), 30 deletions(-)
Successfully cherry-picked 6ee1b466c23f6ef581d00951edac8fd040448aad
----------------------------------------
Cherry-picking fdac286ac872b0e06513bc44cd9eb83fe8e93e87
[main ffc6f58be857] bpf: fix BTF limits
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Tue Sep 17 10:45:38 2019 -0700
 1 file changed, 2 insertions(+), 2 deletions(-)
Successfully cherry-picked fdac286ac872b0e06513bc44cd9eb83fe8e93e87
----------------------------------------
Cherry-picking 3135604a13ae32b75c0f8ef2872f65355ba77a31
[main 5eb81aa10428] bpf/btf: Fix BTF verification of enum members in struct/union
 Author: Yoshiki Komachi <komachi.yoshiki@gmail.com>
 Date: Tue Mar 10 16:32:29 2020 +0900
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 3135604a13ae32b75c0f8ef2872f65355ba77a31
----------------------------------------
Cherry-picking 9fb64d251dfbb52aa2ea9ca91ef4c86da202ba0f
[main 6558fa75bc51] bpf: btf: fix truncated last_member_type_id in btf_struct_resolve
 Author: Lorenz Bauer <oss@lmb.io>
 Date: Sat Sep 10 11:01:20 2022 +0000
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 9fb64d251dfbb52aa2ea9ca91ef4c86da202ba0f
----------------------------------------
Cherry-picking 69ca9bb3e69d15541e24bf00748b57f0b8ccf8bb
Auto-merging kernel/sys.c
[main 50bee4d47ba5] syscall: Fake uname to 4.19 also for netbpfload
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Mon Jan 1 08:54:37 2024 +0100
 1 file changed, 1 insertion(+)
Successfully cherry-picked 69ca9bb3e69d15541e24bf00748b57f0b8ccf8bb
----------------------------------------
Cherry-picking 7d4120614babb01f1ec5fbcdf5faba3d325a366f
Auto-merging drivers/net/ethernet/intel/ixgbe/ixgbe_main.c
Auto-merging drivers/net/tun.c
Auto-merging include/linux/netdevice.h
Auto-merging net/core/dev.c
CONFLICT (content): Merge conflict in net/core/dev.c
error: could not apply 7d4120614bab... BACKPORT: net: bpf: rename ndo_xdp to ndo_bpf
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 7d4120614babb01f1ec5fbcdf5faba3d325a366f
Auto-resolving conflicts by accepting incoming changes...
[main 45ebcaa80528] BACKPORT: net: bpf: rename ndo_xdp to ndo_bpf
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Fri Nov 3 13:56:16 2017 -0700
 18 files changed, 362 insertions(+), 384 deletions(-)
----------------------------------------
Cherry-picking b25c3f1776583c62639c8f1d1983a9ab6553fab5
Auto-merging include/linux/bpf.h
CONFLICT (content): Merge conflict in include/linux/bpf.h
Auto-merging include/linux/netdevice.h
Auto-merging include/uapi/linux/bpf.h
CONFLICT (content): Merge conflict in include/uapi/linux/bpf.h
Auto-merging kernel/bpf/core.c
error: could not apply b25c3f177658... BACKPORT: bpf: offload: add infrastructure for loading programs for a specific netdev
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of b25c3f1776583c62639c8f1d1983a9ab6553fab5
Auto-resolving conflicts by accepting incoming changes...
[main 48f83e87f529] BACKPORT: bpf: offload: add infrastructure for loading programs for a specific netdev
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Fri Nov 3 13:56:17 2017 -0700
 10 files changed, 391 insertions(+), 13 deletions(-)
 create mode 100644 kernel/bpf/offload.c
----------------------------------------
Cherry-picking 47b16b371e9939534136e87614846060711d8e45
[main 6e05d4e1f712] bpf: offload: rename the ifindex field
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Nov 20 15:21:53 2017 -0800
 3 files changed, 4 insertions(+), 4 deletions(-)
Successfully cherry-picked 47b16b371e9939534136e87614846060711d8e45
----------------------------------------
Cherry-picking 8386f5d617e7f234589a2e4c9c3e50d15fb1b46e
Auto-merging kernel/trace/bpf_trace.c
Auto-merging net/core/filter.c
[main dc779408ecf4] BACKPORT: bpf: Check attach type at prog load time
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Mar 30 15:08:00 2018 -0700
 7 files changed, 76 insertions(+), 23 deletions(-)
Successfully cherry-picked 8386f5d617e7f234589a2e4c9c3e50d15fb1b46e
----------------------------------------
Cherry-picking eb0c9ab2d5a0e82e2bf61231d4944c2e02abfada
Auto-merging kernel/bpf/cgroup.c
Auto-merging kernel/bpf/core.c
Auto-merging kernel/cgroup/cgroup.c
[main 9585c0dfed75] BACKPORT: bpf: introduce BPF_PROG_QUERY command
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Mon Oct 2 22:50:22 2017 -0700
 7 files changed, 148 insertions(+)
Successfully cherry-picked eb0c9ab2d5a0e82e2bf61231d4944c2e02abfada
----------------------------------------
Cherry-picking 22499d2bc268fcbb699c09f7557dc6f3c8922fd7
Auto-merging kernel/bpf/cgroup.c
Auto-merging net/core/filter.c
Auto-merging net/ipv4/af_inet.c
[main e00e704207fc] BACKPORT: bpf: Hooks for sys_bind
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Mar 30 15:08:02 2018 -0700
 9 files changed, 362 insertions(+), 8 deletions(-)
Successfully cherry-picked 22499d2bc268fcbb699c09f7557dc6f3c8922fd7
----------------------------------------
Cherry-picking f67134f4a39e9e21d6fb4e6a72f1f3c24309443e
Auto-merging include/net/inet_common.h
Auto-merging include/net/ipv6.h
Auto-merging net/ipv4/af_inet.c
[main 8ac448a4c772] BACKPORT: net: Introduce __inet_bind() and __inet6_bind
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Mar 30 15:08:04 2018 -0700
 4 files changed, 52 insertions(+), 29 deletions(-)
Successfully cherry-picked f67134f4a39e9e21d6fb4e6a72f1f3c24309443e
----------------------------------------
Cherry-picking ca460459f24c2392c56161042347e62f06038f7e
Auto-merging include/net/sock.h
Auto-merging include/net/udp.h
Auto-merging net/core/filter.c
Auto-merging net/ipv4/af_inet.c
Auto-merging net/ipv4/tcp_ipv4.c
Auto-merging net/ipv4/udp.c
Auto-merging net/ipv6/tcp_ipv6.c
Auto-merging net/ipv6/udp.c
[main 54c905f29ea6] BACKPORT: bpf: Hooks for sys_connect
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Mar 30 15:08:05 2018 -0700
 13 files changed, 200 insertions(+)
Successfully cherry-picked ca460459f24c2392c56161042347e62f06038f7e
----------------------------------------
Cherry-picking 3e94a525ce6058d5591dc93588a9aaa85f3eeb6b
Auto-merging net/core/filter.c
Auto-merging net/ipv4/af_inet.c
[main e331f3ebd6e0] BACKPORT: bpf: Post-hooks for sys_bind
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Mar 30 15:08:07 2018 -0700
 6 files changed, 195 insertions(+), 30 deletions(-)
Successfully cherry-picked 3e94a525ce6058d5591dc93588a9aaa85f3eeb6b
----------------------------------------
Cherry-picking 437345780ccfa9625cc4744cb8992a2c351fcae8
[main 6c7a40cf073c] kernel: bpf: devmap: Create __dev_map_alloc_node
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Wed Jan 10 06:24:54 2024 +0100
 1 file changed, 27 insertions(+), 13 deletions(-)
Successfully cherry-picked 437345780ccfa9625cc4744cb8992a2c351fcae8
----------------------------------------
Cherry-picking cd50ca414c72dbf116297c0b1b90335835496b43
Auto-merging net/core/filter.c
[main 78f84c75754c] BACKPORT: xdp: Add devmap_hash map type for looking up devices by hashed index
 Author: Toke Høiland-Jørgensen <toke@redhat.com>
 Date: Fri Jul 26 18:06:55 2019 +0200
 6 files changed, 228 insertions(+), 3 deletions(-)
Successfully cherry-picked cd50ca414c72dbf116297c0b1b90335835496b43
----------------------------------------
Cherry-picking f323f6839f35ecd36566a2625931c924c3952965
[main 0c9441bb6847] BACKPORT: devmap: Allow map lookups from eBPF
 Author: Toke Høiland-Jørgensen <toke@redhat.com>
 Date: Fri Jun 28 11:12:35 2019 +0200
 3 files changed, 10 insertions(+), 5 deletions(-)
Successfully cherry-picked f323f6839f35ecd36566a2625931c924c3952965
----------------------------------------
Cherry-picking 0bf3ed19d19324cf110a4fe85a3daeea061bf24e
Auto-merging kernel/sys.c
[main e99c694bb384] syscall: Increase bpf fake uname to 5.4
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Sun Jan 14 05:49:48 2024 +0100
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 0bf3ed19d19324cf110a4fe85a3daeea061bf24e
----------------------------------------
Cherry-picking 49505be2902dd6ed5749eef1084c859f12792870
Auto-merging kernel/sys.c
[main 33b9f9ba9dcb] syscall: Increase bpf fake uname to 5.4.186
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Thu May 16 05:56:11 2024 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 49505be2902dd6ed5749eef1084c859f12792870
----------------------------------------
Cherry-picking 8c4cefd49b96069500c49e7aabd5fa09f9d5f431
[main b22dcb810d5d] scripts: Remove mistakenly added LTO file
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Wed May 29 11:09:15 2024 +0200
 1 file changed, 22 deletions(-)
 delete mode 100644 scripts/module-lto.lds
Successfully cherry-picked 8c4cefd49b96069500c49e7aabd5fa09f9d5f431
----------------------------------------
Cherry-picking 5047291cc57693e3cf6992c725e5742d1a2dfc0d
Auto-merging net/ipv6/route.c
[main a896a14ab91a] BACKPORT: net: fix __dst_negative_advice() race
 Author: Eric Dumazet <edumazet@google.com>
 Date: Tue May 28 11:43:53 2024 +0000
 1 file changed, 2 insertions(+)
Successfully cherry-picked 5047291cc57693e3cf6992c725e5742d1a2dfc0d
----------------------------------------
Cherry-picking b15f6803c9ab34e2b2bbb0b52153cd865b9ae34e
Auto-merging net/ipv4/tcp.c
[main e836aece5abe] Revert "net: fix unused variable warning in do_tcp_setsockopt()"
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Mon Jun 3 17:58:15 2024 +0200
 1 file changed, 1 insertion(+)
Successfully cherry-picked b15f6803c9ab34e2b2bbb0b52153cd865b9ae34e
----------------------------------------
Cherry-picking a519aba319c1e8c0db0ead8cbb00d9de582b1232
Auto-merging kernel/bpf/cgroup.c
Auto-merging net/core/filter.c
Auto-merging net/ipv4/udp.c
Auto-merging net/ipv6/udp.c
[main fef1fc828362] bpf: Hooks for sys_sendmsg
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri May 25 08:55:23 2018 -0700
 8 files changed, 125 insertions(+), 9 deletions(-)
Successfully cherry-picked a519aba319c1e8c0db0ead8cbb00d9de582b1232
----------------------------------------
Cherry-picking a1cf7b560525ea063bbb2b24d08fb5ee72325f7f
[main 2289b19c9253] BACKPORT: bpf: enforce return code for cgroup-bpf programs
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Mon Oct 2 22:50:23 2017 -0700
 2 files changed, 112 insertions(+)
Successfully cherry-picked a1cf7b560525ea063bbb2b24d08fb5ee72325f7f
----------------------------------------
Cherry-picking c8f10f9c226de67e59113b0eb6916adf0c20f2a7
Auto-merging net/core/filter.c
Auto-merging net/ipv4/udp.c
Auto-merging net/ipv6/udp.c
[main de4a6c3d5168] BACKPORT: bpf: fix unconnected udp hooks
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Fri Jun 7 01:48:57 2019 +0200
 7 files changed, 36 insertions(+), 3 deletions(-)
Successfully cherry-picked c8f10f9c226de67e59113b0eb6916adf0c20f2a7
----------------------------------------
Cherry-picking 4be9defe9a1c4dd6aa59d1250b45fb4f0849f995
Auto-merging kernel/sys.c
[main a18a8e77d9a8] syscall: Only fake uname on very first call of netbpfload
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Sat Jul 20 11:18:16 2024 +0200
 1 file changed, 5 insertions(+), 3 deletions(-)
Successfully cherry-picked 4be9defe9a1c4dd6aa59d1250b45fb4f0849f995
----------------------------------------
Cherry-picking 84b8cbf9fbbde8d2ad4b917ecd13278057f70484
Auto-merging kernel/sys.c
[main 6b8d6cb83909] syscall: Increase fake uname to 6.6.40
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Sat Jul 20 11:19:35 2024 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 84b8cbf9fbbde8d2ad4b917ecd13278057f70484
----------------------------------------
Cherry-picking 0e4168646b7eb82cbb41f6da3d6f2b81fde12a22
[main 27abb3b2df15] BACKPORT: mm/mremap: add MREMAP_DONTUNMAP to mremap()
 Author: Brian Geffon <bgeffon@google.com>
 Date: Wed Apr 1 21:09:17 2020 -0700
 2 files changed, 72 insertions(+), 23 deletions(-)
Successfully cherry-picked 0e4168646b7eb82cbb41f6da3d6f2b81fde12a22
----------------------------------------
Cherry-picking cee0c569083ca3239ab0946bc2ae947e12da1d03
[main 06017d7da055] UPSTREAM: mm: Fix MREMAP_DONTUNMAP accounting on VMA merge
 Author: Brian Geffon <bgeffon@google.com>
 Date: Fri Apr 17 10:25:56 2020 -0700
 1 file changed, 12 insertions(+), 1 deletion(-)
Successfully cherry-picked cee0c569083ca3239ab0946bc2ae947e12da1d03
----------------------------------------
Cherry-picking 4af4093b45e5e1370b07bbe865408eb415112159
[main 8f10cb78e135] UPSTREAM: userfaultfd: fix remap event with MREMAP_DONTUNMAP
 Author: Brian Geffon <bgeffon@google.com>
 Date: Wed May 13 17:50:44 2020 -0700
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 4af4093b45e5e1370b07bbe865408eb415112159
----------------------------------------
Cherry-picking a58c65e2518fe7971260d5cf1a42f1e2f5e9a730
[main ea9407891023] UPSTREAM: tools headers UAPI: Sync linux/mman.h with the kernel
 Author: Arnaldo Carvalho de Melo <acme@redhat.com>
 Date: Tue Apr 14 09:04:53 2020 -0300
 2 files changed, 4 insertions(+), 2 deletions(-)
Successfully cherry-picked a58c65e2518fe7971260d5cf1a42f1e2f5e9a730
----------------------------------------
Cherry-picking b14e0460e5658a7de977f131743fbbc90ebe734c
[main af6b0c8a6575] BACKPORT: mm/mremap: for MREMAP_DONTUNMAP check security_vm_enough_memory_mm()
 Author: Dmitry Safonov <dima@arista.com>
 Date: Mon Dec 14 19:08:09 2020 -0800
 1 file changed, 14 insertions(+), 23 deletions(-)
Successfully cherry-picked b14e0460e5658a7de977f131743fbbc90ebe734c
----------------------------------------
Cherry-picking a6ca77a25781431476b51b23747bee4903a1dddc
[main 0a43cb43cc4d] FROMLIST: mm: Extend MREMAP_DONTUNMAP to non-anonymous mappings
 Author: Brian Geffon <bgeffon@google.com>
 Date: Tue Mar 23 11:25:17 2021 -0700
 1 file changed, 2 insertions(+), 2 deletions(-)
Successfully cherry-picked a6ca77a25781431476b51b23747bee4903a1dddc
----------------------------------------
Cherry-picking 9ec934b76d6e54881c22d1cd368d7db05c081f7e
Auto-merging arch/s390/mm/hugetlbpage.c
Auto-merging mm/hugetlb.c
[main d6cc7c667379] BACKPORT: FROMGIT: hugetlb: pass vma into huge_pte_alloc() and huge_pmd_share()
 Author: Peter Xu <peterx@redhat.com>
 Date: Thu Mar 18 17:01:46 2021 +1100
 11 files changed, 24 insertions(+), 20 deletions(-)
Successfully cherry-picked 9ec934b76d6e54881c22d1cd368d7db05c081f7e
----------------------------------------
Cherry-picking 3d92bcdce3df27046fb2eec44cfd4541b1d1ddaf
Auto-merging mm/hugetlb.c
[main 0f741f1f8ca4] BACKPORT: FROMGIT: hugetlb/userfaultfd: forbid huge pmd sharing when uffd enabled
 Author: Peter Xu <peterx@redhat.com>
 Date: Thu Mar 18 17:01:46 2021 +1100
 4 files changed, 27 insertions(+), 9 deletions(-)
Successfully cherry-picked 3d92bcdce3df27046fb2eec44cfd4541b1d1ddaf
----------------------------------------
Cherry-picking 8a773f4ad7a3f51ff29192668219c5b9aa32eed8
Auto-merging mm/hugetlb.c
[main 2ac763e3d66b] FROMGIT: mm/hugetlb: fix build with !ARCH_WANT_HUGE_PMD_SHARE
 Author: Peter Xu <peterx@redhat.com>
 Date: Thu Mar 18 17:01:47 2021 +1100
 1 file changed, 5 insertions(+), 3 deletions(-)
Successfully cherry-picked 8a773f4ad7a3f51ff29192668219c5b9aa32eed8
----------------------------------------
Cherry-picking 172cf3523c14ebdbc6fb7078c464cc5d28e35e6a
Auto-merging mm/hugetlb.c
[main 331d07743449] FROMGIT: mm/hugetlb: move flush_hugetlb_tlb_range() into hugetlb.h
 Author: Peter Xu <peterx@redhat.com>
 Date: Thu Mar 18 17:01:47 2021 +1100
 2 files changed, 8 insertions(+), 8 deletions(-)
Successfully cherry-picked 172cf3523c14ebdbc6fb7078c464cc5d28e35e6a
----------------------------------------
Cherry-picking 974bc936b76c8e6ce62fce398ec28bad5dfac74b
Auto-merging mm/hugetlb.c
[main d10c3c11c33d] BACKPORT: FROMGIT: hugetlb/userfaultfd: unshare all pmds for hugetlbfs when register wp
 Author: Peter Xu <peterx@redhat.com>
 Date: Thu Mar 18 17:01:47 2021 +1100
 3 files changed, 57 insertions(+)
Successfully cherry-picked 974bc936b76c8e6ce62fce398ec28bad5dfac74b
----------------------------------------
Cherry-picking c5ac6879a963a9a144293da13e54109c477be12d
Auto-merging arch/arm64/Kconfig
CONFLICT (content): Merge conflict in arch/arm64/Kconfig
Auto-merging fs/proc/task_mmu.c
Auto-merging include/linux/mm.h
Auto-merging include/trace/events/mmflags.h
Auto-merging init/Kconfig
Auto-merging mm/hugetlb.c
CONFLICT (content): Merge conflict in mm/hugetlb.c
error: could not apply c5ac6879a963... BACKPORT: FROMGIT: userfaultfd: add minor fault registration mode
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of c5ac6879a963a9a144293da13e54109c477be12d
Auto-resolving conflicts by accepting incoming changes...
[main 81ac3c4a9c58] BACKPORT: FROMGIT: userfaultfd: add minor fault registration mode
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:50 2021 +1100
 11 files changed, 775 insertions(+), 92 deletions(-)
----------------------------------------
Cherry-picking aa5d7cac3077e19de526e5f4b0f237d2eaedb5b7
[main ddf484b37266] FROMGIT: userfaultfd: disable huge PMD sharing for MINOR registered VMAs
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:50 2021 +1100
 1 file changed, 10 insertions(+), 3 deletions(-)
Successfully cherry-picked aa5d7cac3077e19de526e5f4b0f237d2eaedb5b7
----------------------------------------
Cherry-picking aa7b0977f6938d82e59edd43196f871912bf6ef7
[main a57a88a02fda] BACKPORT: FROMGIT: userfaultfd: hugetlbfs: only compile UFFD helpers if config enabled
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:50 2021 +1100
 2 files changed, 6 insertions(+)
Successfully cherry-picked aa7b0977f6938d82e59edd43196f871912bf6ef7
----------------------------------------
Cherry-picking df1e699930a51ace7f4c6ac3c69eed709db1fb6f
Auto-merging Documentation/sysctl/vm.txt
Auto-merging kernel/sysctl.c
CONFLICT (content): Merge conflict in kernel/sysctl.c
error: could not apply df1e699930a5... BACKPORT: userfaultfd/sysctl: add vm.unprivileged_userfaultfd
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of df1e699930a51ace7f4c6ac3c69eed709db1fb6f
Auto-resolving conflicts by accepting incoming changes...
[main 0d38cfb0fcd1] BACKPORT: userfaultfd/sysctl: add vm.unprivileged_userfaultfd
 Author: Peter Xu <peterx@redhat.com>
 Date: Mon May 13 17:16:41 2019 -0700
 5 files changed, 322 insertions(+), 81 deletions(-)
----------------------------------------
Cherry-picking b6f5e18ba448a83c50781099f69c66e131ae2564
[main 9f840e6c7597] BACKPORT: userfaultfd: add UFFD_USER_MODE_ONLY
 Author: Lokesh Gidra <lokeshgidra@google.com>
 Date: Mon Dec 14 19:13:49 2020 -0800
 2 files changed, 18 insertions(+), 1 deletion(-)
Successfully cherry-picked b6f5e18ba448a83c50781099f69c66e131ae2564
----------------------------------------
Cherry-picking cc3b8d64f2635cafccb09e59f96e8b7b9944a57e
Auto-merging Documentation/sysctl/vm.txt
[main dac7d4b249d0] UPSTREAM: userfaultfd: add user-mode only option to unprivileged_userfaultfd sysctl knob
 Author: Lokesh Gidra <lokeshgidra@google.com>
 Date: Mon Dec 14 19:13:54 2020 -0800
 2 files changed, 18 insertions(+), 7 deletions(-)
Successfully cherry-picked cc3b8d64f2635cafccb09e59f96e8b7b9944a57e
----------------------------------------
Cherry-picking b253636bf9b16d398605be7ce50794131bf77904
[main 1f66489b587a] BACKPORT: userfaultfd: prevent non-cooperative events vs mcopy_atomic races
 Author: Mike Rapoport <rppt@linux.vnet.ibm.com>
 Date: Thu Jun 7 17:09:25 2018 -0700
 3 files changed, 41 insertions(+), 9 deletions(-)
Successfully cherry-picked b253636bf9b16d398605be7ce50794131bf77904
----------------------------------------
Cherry-picking e7443d98c37ebe62cc3242620472cf73028fbf6d
[main a8db9baac2b7] BACKPORT: FROMGIT: userfaultfd: add UFFDIO_CONTINUE ioctl
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:50 2021 +1100
 6 files changed, 163 insertions(+), 31 deletions(-)
Successfully cherry-picked e7443d98c37ebe62cc3242620472cf73028fbf6d
----------------------------------------
Cherry-picking 7707bcdea6209d203f74a6a1053b422f740f4f81
[main a49072bbef86] BACKPORT: FROMGIT: userfaultfd: update documentation to describe minor fault handling
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:51 2021 +1100
 1 file changed, 80 insertions(+), 33 deletions(-)
Successfully cherry-picked 7707bcdea6209d203f74a6a1053b422f740f4f81
----------------------------------------
Cherry-picking 56b8d5547238a782e5f9b11073d7cbe4efdd3c0a
Auto-merging mm/memory.c
Auto-merging mm/shmem.c
[main c171b638a634] BACKPORT: FROMGIT: userfaultfd: support minor fault handling for shmem
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Thu Mar 18 17:01:51 2021 +1100
 6 files changed, 88 insertions(+), 91 deletions(-)
Successfully cherry-picked 56b8d5547238a782e5f9b11073d7cbe4efdd3c0a
----------------------------------------
Cherry-picking 96a407ab50f1b18f081b913c3ab012bb9dd87e3b
[main 53f8e72ed528] BACKPORT: FROMLIST: userfaultfd/hugetlbfs: Fix minor fault page leak
 Author: Peter Xu <peterx@redhat.com>
 Date: Mon Mar 22 13:51:32 2021 -0400
 1 file changed, 1 insertion(+)
Successfully cherry-picked 96a407ab50f1b18f081b913c3ab012bb9dd87e3b
----------------------------------------
Cherry-picking 56dc27b1e6713a87de492bcf9f592e2943475285
Auto-merging mm/shmem.c
[main 0fa00b74cf1c] FROMLIST: userfaultfd/shmem: fix minor fault page leak
 Author: Axel Rasmussen <axelrasmussen@google.com>
 Date: Mon Mar 22 13:48:35 2021 -0700
 1 file changed, 1 insertion(+)
Successfully cherry-picked 56dc27b1e6713a87de492bcf9f592e2943475285
----------------------------------------
Cherry-picking b7590dfc863dd659b378dfe14660b3ff685f83ca
Auto-merging fs/f2fs/segment.c
[main f8905fe9b9a7] BACKPORT: f2fs: stop checkpoint when get a out-of-bounds segment
 Author: Zhiguo Niu <zhiguo.niu@unisoc.com>
 Date: Tue Feb 20 14:11:24 2024 +0800
 1 file changed, 15 insertions(+), 2 deletions(-)
Successfully cherry-picked b7590dfc863dd659b378dfe14660b3ff685f83ca
----------------------------------------
Cherry-picking 32d004c26b03be9a73716bc2fc7a2af7999080f1
Auto-merging fs/f2fs/data.c
Auto-merging fs/f2fs/f2fs.h
Auto-merging fs/f2fs/file.c
Auto-merging fs/f2fs/gc.c
CONFLICT (content): Merge conflict in fs/f2fs/gc.c
Auto-merging fs/f2fs/segment.c
CONFLICT (content): Merge conflict in fs/f2fs/segment.c
error: could not apply 32d004c26b03... BACKPORT: f2fs: fix to handle segment allocation failure correctly
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 32d004c26b03be9a73716bc2fc7a2af7999080f1
Auto-resolving conflicts by accepting incoming changes...
[main 6ad177a98e73] BACKPORT: f2fs: fix to handle segment allocation failure correctly
 Author: Chao Yu <chao@kernel.org>
 Date: Thu Feb 22 20:18:50 2024 +0800
 6 files changed, 2337 insertions(+), 774 deletions(-)
----------------------------------------
Cherry-picking 407ea9eaf54932de1c53be6a43ee5d92f24234c0
Auto-merging kernel/sys.c
[main 3ae4b9899eb2] Revert "syscall: Increase fake uname to 6.6.40"
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Fri Sep 13 07:47:56 2024 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 407ea9eaf54932de1c53be6a43ee5d92f24234c0
----------------------------------------
Cherry-picking bb1f9ef8a24748cd6a558b399af3e73f3009d64d
Auto-merging kernel/sys.c
[main 00f507f0ea31] Revert "syscall: Only fake uname on very first call of netbpfload"
 Author: Tim Zimmermann <tim@linux4.de>
 Date: Fri Sep 13 07:47:57 2024 +0200
 1 file changed, 3 insertions(+), 5 deletions(-)
Successfully cherry-picked bb1f9ef8a24748cd6a558b399af3e73f3009d64d
----------------------------------------
Cherry-picking f53b4b27cdcba7a30f30edcc78010c54b08231d9
[main 2867d4bdb5ac] UPSTREAM: unicode: Don't special case ignorable code points
 Author: Gabriel Krisman Bertazi <krisman@suse.de>
 Date: Tue Oct 8 18:43:16 2024 -0400
 2 files changed, 3346 insertions(+), 3427 deletions(-)
Successfully cherry-picked f53b4b27cdcba7a30f30edcc78010c54b08231d9
----------------------------------------
Cherry-picking 859170da0e97bd0b89903efde644aceeb65ff4f7
[main ce7f89cc6f5a] bpf: btf: refactor btf_int_bits_seq_show()
 Author: Yonghong Song <yhs@fb.com>
 Date: Sat Dec 15 22:13:50 2018 -0800
 1 file changed, 21 insertions(+), 14 deletions(-)
Successfully cherry-picked 859170da0e97bd0b89903efde644aceeb65ff4f7
----------------------------------------
Cherry-picking 0ffb7259f125e9f7a717340cc3748f84623fda2f
[main 41883a6f92b5] bpf: btf: Break up btf_type_is_void()
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Mon Nov 19 15:29:06 2018 -0800
 1 file changed, 22 insertions(+), 15 deletions(-)
Successfully cherry-picked 0ffb7259f125e9f7a717340cc3748f84623fda2f
----------------------------------------
Cherry-picking 993360ee85d44364f678e57dfd74418030dc110e
Auto-merging kernel/trace/bpf_trace.c
Auto-merging net/core/filter.c
[main 3b7a4379bc81] BACKPORT: bpf: split verifier and program ops
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Oct 16 16:40:53 2017 -0700
 7 files changed, 107 insertions(+), 46 deletions(-)
Successfully cherry-picked 993360ee85d44364f678e57dfd74418030dc110e
----------------------------------------
Cherry-picking d10e9318d503a7159d28d6546916427fedfcddf4
[main 160fae3a4afd] device_cgroup: add DEVCG_ prefix to ACC_* and DEV_* constants
 Author: Roman Gushchin <guro@fb.com>
 Date: Wed Dec 25 21:50:39 2024 -0500
 1 file changed, 36 insertions(+), 36 deletions(-)
Successfully cherry-picked d10e9318d503a7159d28d6546916427fedfcddf4
----------------------------------------
Cherry-picking 37e0a09eff1ef6859bacfa45741df690389f43cb
[main e0fc86db9328] device_cgroup: prepare code for bpf-based device controller This is non-functional change to prepare the device cgroup code for adding eBPF-based controller for cgroups v2.
 Author: Roman Gushchin <guro@fb.com>
 Date: Wed Dec 25 21:52:10 2024 -0500
 2 files changed, 59 insertions(+), 49 deletions(-)
Successfully cherry-picked 37e0a09eff1ef6859bacfa45741df690389f43cb
----------------------------------------
Cherry-picking 58a74a75a4808ca5c6dba6ee7f41bd43289b3979
Auto-merging kernel/bpf/cgroup.c
Auto-merging tools/include/uapi/linux/bpf.h
[main 279ce6276084] bpf, cgroup: implement eBPF-based device controller for cgroup v2
 Author: Roman Gushchin <guro@fb.com>
 Date: Sun Nov 5 08:15:32 2017 -0500
 7 files changed, 130 insertions(+), 1 deletion(-)
Successfully cherry-picked 58a74a75a4808ca5c6dba6ee7f41bd43289b3979
----------------------------------------
Cherry-picking 39c7948132b3efc97e3f2415661f29bda9ec0460
[main e863196dde40] BACKPORT: bpf: remove the verifier ops from program structure
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Oct 16 16:40:54 2017 -0700
 4 files changed, 20 insertions(+), 22 deletions(-)
Successfully cherry-picked 39c7948132b3efc97e3f2415661f29bda9ec0460
----------------------------------------
Cherry-picking fb631c845db6da99a8cb7d2377ed6b54d85581cf
Auto-merging include/net/tcp.h
[main dfbc0d19418b] net: add a UID to use for ULP socket assignment
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Mon Feb 5 10:17:43 2018 -0800
 3 files changed, 62 insertions(+), 5 deletions(-)
Successfully cherry-picked fb631c845db6da99a8cb7d2377ed6b54d85581cf
----------------------------------------
Cherry-picking da0d453e388bf50676fa94a261e4317dccb7fbe3
Auto-merging include/net/tcp.h
[main cd9186d1750b] bpf: sockmap, add sock close() hook to remove socks
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Mon Feb 5 10:17:49 2018 -0800
 2 files changed, 102 insertions(+), 67 deletions(-)
Successfully cherry-picked da0d453e388bf50676fa94a261e4317dccb7fbe3
----------------------------------------
Cherry-picking 1c1eaf2de4ed82b63effd20112288177d1004b85
Auto-merging kernel/bpf/core.c
Auto-merging kernel/events/core.c
Auto-merging kernel/trace/bpf_trace.c
[main bbd3a9e8d364] BACKPORT: bpf/tracing: allow user space to query prog array on the same tp
 Author: Yonghong Song <yhs@fb.com>
 Date: Mon Dec 11 11:39:02 2017 -0800
 5 files changed, 73 insertions(+)
Successfully cherry-picked 1c1eaf2de4ed82b63effd20112288177d1004b85
----------------------------------------
Cherry-picking 2b072e261b006bf22f7e2dc928bf3d52213efe3b
Auto-merging include/linux/trace_events.h
Auto-merging kernel/events/core.c
Auto-merging kernel/trace/bpf_trace.c
[main ab42b6e7fe73] bpf/tracing: fix kernel/events/core.c compilation error
 Author: Yonghong Song <yhs@fb.com>
 Date: Wed Dec 13 10:35:37 2017 -0800
 4 files changed, 8 insertions(+), 3 deletions(-)
Successfully cherry-picked 2b072e261b006bf22f7e2dc928bf3d52213efe3b
----------------------------------------
Cherry-picking 1b6607955df2bd14f3d11a0939480888c5a995b2
Auto-merging include/linux/kernel.h
[main 68e80db901d8] macro: introduce COUNT_ARGS() macro
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Wed Mar 28 12:05:36 2018 -0700
 3 files changed, 100 insertions(+), 6 deletions(-)
 create mode 100644 include/trace/bpf_probe.h
Successfully cherry-picked 1b6607955df2bd14f3d11a0939480888c5a995b2
----------------------------------------
Cherry-picking 04251debdff93591ddf5ce7565938ed5d9d52578
[main 7a1594bd9a65] f2fs: macro: Switch to COUNT_ARGS macro
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Sat Oct 14 12:04:34 2023 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 04251debdff93591ddf5ce7565938ed5d9d52578
----------------------------------------
Cherry-picking eff099b38e1720f1e686f625fd54fe12f89d8744
Auto-merging net/wireless/trace.h
[main cac77671529f] cfg80211/nl80211: macro: Switch to COUNT_ARGS macro
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Sat Oct 14 12:05:33 2023 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked eff099b38e1720f1e686f625fd54fe12f89d8744
----------------------------------------
Cherry-picking 98ac403a994b46ffcb05637c0cf72c0da90d8e8b
Auto-merging include/asm-generic/vmlinux.lds.h
Auto-merging include/linux/trace_events.h
Auto-merging kernel/trace/bpf_trace.c
[main 3515589c7489] BACKPORT: bpf: introduce BPF_RAW_TRACEPOINT
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Wed Mar 28 12:05:37 2018 -0700
 8 files changed, 331 insertions(+)
Successfully cherry-picked 98ac403a994b46ffcb05637c0cf72c0da90d8e8b
----------------------------------------
Cherry-picking 2668d258ba9da954bc688d1a66e0abd6da3df7f6
[main 668e96a2faff] FROMLIST: [net-next,v2,1/2] bpf: Allow CGROUP_SKB eBPF program to access sk_buff
 Author: Chenbo Feng <fengc@google.com>
 Date: Fri Jun 2 17:04:59 2017 -0700
 1 file changed, 1 insertion(+)
Successfully cherry-picked 2668d258ba9da954bc688d1a66e0abd6da3df7f6
----------------------------------------
Cherry-picking 3b377db3d6652b754cc30277b3bbf2aa583b00de
[main bde27684f6fb] netfilter: x_tables: use pr ratelimiting in all remaining spots
 Author: Florian Westphal <fw@strlen.de>
 Date: Fri Feb 9 15:52:07 2018 +0100
 33 files changed, 112 insertions(+), 102 deletions(-)
Successfully cherry-picked 3b377db3d6652b754cc30277b3bbf2aa583b00de
----------------------------------------
Cherry-picking 263c764b53acdcb25ee38c17b889248b4660bbda
[main c4929bd16faa] netfilter: xt_conntrack: Support bit-shifting for CONNMARK & MARK targets.
 Author: Jack Ma <jack.ma@alliedtelesis.co.nz>
 Date: Mon Mar 19 09:41:59 2018 +1300
 2 files changed, 70 insertions(+), 17 deletions(-)
Successfully cherry-picked 263c764b53acdcb25ee38c17b889248b4660bbda
----------------------------------------
Cherry-picking 09b7fe369cf6af0c763799f2b3d9d6508fc8cee5
[main d90e2f09804c] netfilter: xt_connmark: Add bit mapping for bit-shift operation.
 Author: Jack Ma <jack.ma@alliedtelesis.co.nz>
 Date: Fri Apr 6 15:45:16 2018 +1200
 1 file changed, 11 insertions(+), 8 deletions(-)
Successfully cherry-picked 09b7fe369cf6af0c763799f2b3d9d6508fc8cee5
----------------------------------------
Cherry-picking f1088452ac822b9a71569f9f5cc538d1469d8fab
[main caf363426758] netfilter: xt_connmark: do not cast xt_connmark_tginfo1 to xt_connmark_tginfo2
 Author: Pablo Neira Ayuso <pablo@netfilter.org>
 Date: Thu Apr 19 16:17:14 2018 +0200
 1 file changed, 22 insertions(+), 16 deletions(-)
Successfully cherry-picked f1088452ac822b9a71569f9f5cc538d1469d8fab
----------------------------------------
Cherry-picking 12c1b9c0e2a5b3ca5d1c0ec007817a0fd69ec04e
[main b70805f54b62] netfilter: xt_connmark: fix list corruption on rmmod
 Author: Florian Westphal <fw@strlen.de>
 Date: Tue Jun 12 18:36:19 2018 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 12c1b9c0e2a5b3ca5d1c0ec007817a0fd69ec04e
----------------------------------------
Cherry-picking 8b5f74e5bc575b1dcb1be930538b05d85b5da1a4
Auto-merging kernel/bpf/cgroup.c
[main 5a62bab3cbbf] BACKPORT: bpf: Add base proto function for cgroup-bpf programs
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Tue Mar 12 09:27:09 2019 -0700
 1 file changed, 6 insertions(+), 2 deletions(-)
Successfully cherry-picked 8b5f74e5bc575b1dcb1be930538b05d85b5da1a4
----------------------------------------
Cherry-picking bd46d14d547c0922d2d2c46329031357d7f61fd3
Auto-merging include/linux/skbuff.h
Auto-merging net/core/filter.c
[main e54d90ce93d3] BACKPORT: flow_dissector: implements flow dissector BPF hook
 Author: Petar Penkov <ppenkov@google.com>
 Date: Fri Sep 14 07:46:18 2018 -0700
 10 files changed, 283 insertions(+), 4 deletions(-)
Successfully cherry-picked bd46d14d547c0922d2d2c46329031357d7f61fd3
----------------------------------------
Cherry-picking 649ff18700550d006513ee26831d77ebbddc222a
Auto-merging kernel/bpf/cgroup.c
[main 83cbbb836252] BACKPORT: bpf: Sysctl hook
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Wed Feb 27 12:59:24 2019 -0800
 7 files changed, 139 insertions(+)
Successfully cherry-picked 649ff18700550d006513ee26831d77ebbddc222a
----------------------------------------
Cherry-picking bd5c000981e06f3f54a27f422502e710b9051601
Auto-merging net/core/filter.c
[main 89ea3f81340f] BACKPORT: bpf: create tcp_bpf_ulp allowing BPF to monitor socket TX/RX data
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Sun Mar 18 12:57:10 2018 -0700
 8 files changed, 846 insertions(+), 19 deletions(-)
Successfully cherry-picked bd5c000981e06f3f54a27f422502e710b9051601
----------------------------------------
Cherry-picking 28a14b27a752d4dd2e44285bdfe11d2c1b9ae754
Auto-merging net/core/filter.c
[main addebc151b2e] bpf: fix pointer offsets in context for 32 bit
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Sat Dec 1 01:18:53 2018 +0100
 3 files changed, 24 insertions(+), 10 deletions(-)
Successfully cherry-picked 28a14b27a752d4dd2e44285bdfe11d2c1b9ae754
----------------------------------------
Cherry-picking 1d7930f53b42686bf24b25cd7fde96de05b84d62
Auto-merging kernel/bpf/core.c
[main 0392a5fbca98] bpf: fix bpf_prog_array_copy_to_user() issues
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Fri Feb 2 15:14:05 2018 -0800
 1 file changed, 23 insertions(+), 8 deletions(-)
Successfully cherry-picked 1d7930f53b42686bf24b25cd7fde96de05b84d62
----------------------------------------
Cherry-picking bfc2230c96faf5c595c035a4088a5f81e8cc562f
Auto-merging kernel/trace/bpf_trace.c
[main 91dffd68f8b6] bpf: avoid rcu_dereference inside bpf_event_mutex lock region
 Author: Yonghong Song <yhs@fb.com>
 Date: Mon Oct 30 13:50:22 2017 -0700
 1 file changed, 7 insertions(+), 10 deletions(-)
Successfully cherry-picked bfc2230c96faf5c595c035a4088a5f81e8cc562f
----------------------------------------
Cherry-picking 468e555cdbcbafe0092bba48c0f528f1557c0aea
Auto-merging kernel/trace/bpf_trace.c
[main 32a732e354d8] bpf: set maximum number of attached progs to 64 for a single perf tp
 Author: Yonghong Song <yhs@fb.com>
 Date: Thu Nov 30 13:47:54 2017 -0800
 1 file changed, 7 insertions(+)
Successfully cherry-picked 468e555cdbcbafe0092bba48c0f528f1557c0aea
----------------------------------------
Cherry-picking 529140926c58d483c5523c78d02fceb3c56ce1b4
Auto-merging kernel/bpf/core.c
Auto-merging kernel/trace/bpf_trace.c
[main bf05eca38a52] bpf/tracing: fix a deadlock in perf_event_detach_bpf_prog
 Author: Yonghong Song <yhs@fb.com>
 Date: Tue Apr 10 09:37:32 2018 -0700
 3 files changed, 50 insertions(+), 22 deletions(-)
Successfully cherry-picked 529140926c58d483c5523c78d02fceb3c56ce1b4
----------------------------------------
Cherry-picking 55efbaf286452e519ab29ca7e1c1f4bc08e3dfa6
Auto-merging tools/include/uapi/linux/bpf.h
[main a171cd860eb5] bpf: introduce new bpf cpu map type BPF_MAP_TYPE_CPUMAP
 Author: Jesper Dangaard Brouer <brouer@redhat.com>
 Date: Mon Oct 16 12:19:28 2017 +0200
 7 files changed, 576 insertions(+)
 create mode 100644 kernel/bpf/cpumap.c
Successfully cherry-picked 55efbaf286452e519ab29ca7e1c1f4bc08e3dfa6
----------------------------------------
Cherry-picking 79c3c559a36b608047669eaf1d48e24950ca1980
Auto-merging kernel/bpf/hashtab.c
[main bf7d4680cad7] bpf: add helper for copying attrs to struct bpf_map
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Thu Jan 11 20:29:06 2018 -0800
 8 files changed, 17 insertions(+), 44 deletions(-)
Successfully cherry-picked 79c3c559a36b608047669eaf1d48e24950ca1980
----------------------------------------
Cherry-picking e09adc8b42b707a564c77a2cc83775b515df18fd
[main a730cd2a8f8e] bpf: add ability to charge bpf maps memory dynamically
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:17 2018 -0700
 2 files changed, 42 insertions(+), 14 deletions(-)
Successfully cherry-picked e09adc8b42b707a564c77a2cc83775b515df18fd
----------------------------------------
Cherry-picking bac4b12d382eea353916eb3371b7facfc219495e
[main 5febe24c10b2] bpf: introduce cgroup storage maps
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:18 2018 -0700
 8 files changed, 436 insertions(+)
 create mode 100644 kernel/bpf/local_storage.c
Successfully cherry-picked bac4b12d382eea353916eb3371b7facfc219495e
----------------------------------------
Cherry-picking f716e13212b1fdee760869850f9bf0eb13ec2a28
[main 4c3bf5eca3ff] bpf: pass a pointer to a cgroup storage using pcpu variable
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:19 2018 -0700
 2 files changed, 15 insertions(+)
Successfully cherry-picked f716e13212b1fdee760869850f9bf0eb13ec2a28
----------------------------------------
Cherry-picking 84f79af9062666df7b0b1521440ae8893c51406e
[main 219845651fbd] bpf: include errno.h from bpf-cgroup.h
 Author: Roman Gushchin <guro@fb.com>
 Date: Fri Jul 6 14:34:29 2018 -0700
 1 file changed, 1 insertion(+)
Successfully cherry-picked 84f79af9062666df7b0b1521440ae8893c51406e
----------------------------------------
Cherry-picking 063a94799f308563a4d71b0a488c09d177ee37ab
Auto-merging kernel/bpf/cgroup.c
[main 80f863069656] BACKPORT: bpf: allocate cgroup storage entries on attaching bpf programs
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:20 2018 -0700
 2 files changed, 38 insertions(+), 11 deletions(-)
Successfully cherry-picked 063a94799f308563a4d71b0a488c09d177ee37ab
----------------------------------------
Cherry-picking 83ffeb9bf17ab5347f4f93f70d77719be0da8d1e
Auto-merging kernel/bpf/cgroup.c
CONFLICT (content): Merge conflict in kernel/bpf/cgroup.c
Auto-merging kernel/bpf/core.c
error: could not apply 83ffeb9bf17a... bpf: extend bpf_prog_array to store pointers to the cgroup storage
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 83ffeb9bf17ab5347f4f93f70d77719be0da8d1e
Auto-resolving conflicts by accepting incoming changes...
[main df0a72d92f51] bpf: extend bpf_prog_array to store pointers to the cgroup storage
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:21 2018 -0700
 4 files changed, 405 insertions(+), 55 deletions(-)
----------------------------------------
Cherry-picking d959e344cb48c5f7ac2d6df6e9b53169e3936bda
[main f1c9b7198ec1] bpf/verifier: introduce BPF_PTR_TO_MAP_VALUE
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:22 2018 -0700
 2 files changed, 7 insertions(+), 2 deletions(-)
Successfully cherry-picked d959e344cb48c5f7ac2d6df6e9b53169e3936bda
----------------------------------------
Cherry-picking 6cd56dc73009e1b3e93df0a054a4d0be0a3d5eba
Auto-merging kernel/bpf/core.c
Auto-merging kernel/bpf/helpers.c
Auto-merging net/core/filter.c
[main ea2d2ca91f8f] bpf: introduce the bpf_get_local_storage() helper function
 Author: Roman Gushchin <guro@fb.com>
 Date: Thu Aug 2 14:27:24 2018 -0700
 7 files changed, 80 insertions(+), 1 deletion(-)
Successfully cherry-picked 6cd56dc73009e1b3e93df0a054a4d0be0a3d5eba
----------------------------------------
Cherry-picking 9d41779e2ee86c3c2430da4608931b984dfe72d7
Auto-merging kernel/bpf/core.c
Auto-merging kernel/bpf/helpers.c
Auto-merging kernel/trace/bpf_trace.c
[main 3579f939a3a2] bpf: implement bpf_get_current_cgroup_id() helper
 Author: Yonghong Song <yhs@fb.com>
 Date: Sun Jun 3 15:59:41 2018 -0700
 5 files changed, 22 insertions(+), 1 deletion(-)
Successfully cherry-picked 9d41779e2ee86c3c2430da4608931b984dfe72d7
----------------------------------------
Cherry-picking c27a7a158749811c63f91f9b90e5e2dccaef8a4e
[main 735e6bc622ea] bpf: permit CGROUP_DEVICE programs accessing helper bpf_get_current_cgroup_id()
 Author: Yonghong Song <yhs@fb.com>
 Date: Thu Sep 27 14:37:30 2018 -0700
 1 file changed, 2 insertions(+)
Successfully cherry-picked c27a7a158749811c63f91f9b90e5e2dccaef8a4e
----------------------------------------
Cherry-picking 0691a98412bbe9021c44c8023228b14027f1153a
Auto-merging kernel/bpf/helpers.c
[main 32a0e4d8f980] bpf: extend cgroup bpf core to allow multiple cgroup storage types
 Author: Roman Gushchin <guro@fb.com>
 Date: Fri Sep 28 14:45:36 2018 +0000
 7 files changed, 118 insertions(+), 51 deletions(-)
Successfully cherry-picked 0691a98412bbe9021c44c8023228b14027f1153a
----------------------------------------
Cherry-picking 96f06660aca6cffa92b5ce51665e1b796cdb07ba
Auto-merging net/core/filter.c
[main af76188f55af] bpf: Add PTR_TO_SOCKET verifier type
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:33 2018 -0700
 4 files changed, 148 insertions(+), 33 deletions(-)
Successfully cherry-picked 96f06660aca6cffa92b5ce51665e1b796cdb07ba
----------------------------------------
Cherry-picking 67f9ead873e4ec43a1242c83df5212caa3e4ff17
[main f38dd535f39d] bpf: offload: ignore namespace moves
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Nov 20 15:21:57 2017 -0800
 1 file changed, 4 insertions(+)
Successfully cherry-picked 67f9ead873e4ec43a1242c83df5212caa3e4ff17
----------------------------------------
Cherry-picking a3bb91af26c16721c370bdfb1739a9f708d25fb5
[main 6485ba031642] bpf: offload: don't require rtnl for dev list manipulation
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Dec 27 18:39:03 2017 -0800
 1 file changed, 25 insertions(+), 10 deletions(-)
Successfully cherry-picked a3bb91af26c16721c370bdfb1739a9f708d25fb5
----------------------------------------
Cherry-picking 64d4ce9ff369a56fe2620ab055cfbddaceffbf19
[main ce5f805c064c] nsfs: generalize ns_get_path() for path resolution with a task
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Dec 27 18:39:08 2017 -0800
 2 files changed, 25 insertions(+), 4 deletions(-)
Successfully cherry-picked 64d4ce9ff369a56fe2620ab055cfbddaceffbf19
----------------------------------------
Cherry-picking ec8a8647eb5b660cc1f9b6315aa52d5eb934d891
[main c6c468ae5266] nsfs: unobfuscate
 Author: Al Viro <viro@zeniv.linux.org.uk>
 Date: Fri Mar 22 23:26:22 2019 -0400
 1 file changed, 9 insertions(+), 14 deletions(-)
Successfully cherry-picked ec8a8647eb5b660cc1f9b6315aa52d5eb934d891
----------------------------------------
Cherry-picking c7002e28f1d237ed44f5de1b8d96d70b8f3708e6
Auto-merging tools/include/uapi/linux/bpf.h
[main 13994e1b76ea] bpf: offload: report device information for offloaded programs
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Dec 27 18:39:09 2017 -0800
 5 files changed, 73 insertions(+)
Successfully cherry-picked c7002e28f1d237ed44f5de1b8d96d70b8f3708e6
----------------------------------------
Cherry-picking 3d62e389e24173efb40b5e375ed5ff80db93deaf
[main f6847afeb916] bpf: offload: free program id when device disappears
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Dec 27 18:39:07 2017 -0800
 3 files changed, 12 insertions(+), 2 deletions(-)
Successfully cherry-picked 3d62e389e24173efb40b5e375ed5ff80db93deaf
----------------------------------------
Cherry-picking 234a194e202e2cab797180a17a06952c153a7116
Auto-merging include/linux/netdevice.h
[main 830ad4779b56] bpf: offload: allow netdev to disappear while verifier is running
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Dec 27 18:39:05 2017 -0800
 5 files changed, 32 insertions(+), 48 deletions(-)
Successfully cherry-picked 234a194e202e2cab797180a17a06952c153a7116
----------------------------------------
Cherry-picking 54fbb5c5efd423df0f7a7f17ff67173b230ab0ba
[main 072823dbe4aa] bpf: rename bpf_dev_offload -> bpf_prog_offload
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Thu Jan 11 20:29:07 2018 -0800
 2 files changed, 7 insertions(+), 7 deletions(-)
Successfully cherry-picked 54fbb5c5efd423df0f7a7f17ff67173b230ab0ba
----------------------------------------
Cherry-picking 605c18bbe0062e29e900cdc27b138d6a8490aecf
[main e6f525bbc22d] bpf: offload: factor out netdev checking at allocation time
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Thu Jan 11 20:29:08 2018 -0800
 1 file changed, 21 insertions(+), 8 deletions(-)
Successfully cherry-picked 605c18bbe0062e29e900cdc27b138d6a8490aecf
----------------------------------------
Cherry-picking bb83f260880b98cfcba181373f9194dbeac7ac66
[main 7629aa726b7d] bpf: add map_alloc_check callback
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Thu Jan 11 20:29:03 2018 -0800
 2 files changed, 14 insertions(+), 4 deletions(-)
Successfully cherry-picked bb83f260880b98cfcba181373f9194dbeac7ac66
----------------------------------------
Cherry-picking bc93b3866914e1f2cc440d495dbf477276ed0750
Auto-merging include/linux/netdevice.h
[main 0e1130f95b3a] bpf: offload: add map offload infrastructure
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Thu Jan 11 20:29:09 2018 -0800
 6 files changed, 245 insertions(+), 12 deletions(-)
Successfully cherry-picked bc93b3866914e1f2cc440d495dbf477276ed0750
----------------------------------------
Cherry-picking fff2c7d8fe0b99b4ac5edbf75416767e46301d9c
[main 580e13fd98f9] bpf: offload: report device information about offloaded maps
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Wed Jan 17 19:13:28 2018 -0800
 4 files changed, 58 insertions(+)
Successfully cherry-picked fff2c7d8fe0b99b4ac5edbf75416767e46301d9c
----------------------------------------
Cherry-picking 9f20f51f69a9c557a4d470df7eaa3c7b3c3e3099
[main 4bf193310e72] bpf_obj_do_pin(): switch to vfs_mkobj(), quit abusing ->mknod()
 Author: Al Viro <viro@zeniv.linux.org.uk>
 Date: Fri Dec 1 17:22:19 2017 -0500
 1 file changed, 22 insertions(+), 29 deletions(-)
Successfully cherry-picked 9f20f51f69a9c557a4d470df7eaa3c7b3c3e3099
----------------------------------------
Cherry-picking e7c6fd71931d219796b5dfe6c80546be2de57587
Auto-merging fs/namei.c
Auto-merging include/linux/fs.h
[main ad02b26d0af4] new primitive: vfs_mkobj()
 Author: Al Viro <viro@zeniv.linux.org.uk>
 Date: Fri Dec 1 17:12:45 2017 -0500
 2 files changed, 24 insertions(+)
Successfully cherry-picked e7c6fd71931d219796b5dfe6c80546be2de57587
----------------------------------------
Cherry-picking aa642295d66294a02faded02c47607c72ca1c434
[main de69d3d4c246] nsfs: clean-up ns_get_path() signature to return int
 Author: Aleksa Sarai <cyphar@cyphar.com>
 Date: Sat Dec 7 01:13:27 2019 +1100
 4 files changed, 25 insertions(+), 25 deletions(-)
Successfully cherry-picked aa642295d66294a02faded02c47607c72ca1c434
----------------------------------------
Cherry-picking fd7a49bc7f72245e430c4ff3d29a14a9f8902899
Auto-merging kernel/events/core.c
[main 84ed5039e328] bpf: btf: Add pretty print support to the basic arraymap
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Wed Apr 18 15:56:03 2018 -0700
 6 files changed, 213 insertions(+), 8 deletions(-)
Successfully cherry-picked fd7a49bc7f72245e430c4ff3d29a14a9f8902899
----------------------------------------
Cherry-picking dc02e850d0fb9189d559c1e9b441c5c6942b2e89
[main b48d4221e711] bpf: btf: Introduce BTF ID
 Author: Matin KaFai Lau <kafai@fb.com>
 Date: Fri May 4 14:49:51 2018 -0700
 4 files changed, 115 insertions(+), 11 deletions(-)
Successfully cherry-picked dc02e850d0fb9189d559c1e9b441c5c6942b2e89
----------------------------------------
Cherry-picking b1b35c788c9685800e2689d25291fa0a2c90bd52
[main 88d5578df784] bpf: move instruction printing into a separate file
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Mon Oct 9 10:30:12 2017 -0700
 4 files changed, 249 insertions(+), 178 deletions(-)
 create mode 100644 kernel/bpf/disasm.c
 create mode 100644 kernel/bpf/disasm.h
Successfully cherry-picked b1b35c788c9685800e2689d25291fa0a2c90bd52
----------------------------------------
Cherry-picking 1ae220deab7426535849d933549054e6eab47da8
[main f6d4d16985bb] bpf: squash of log related commits
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Wed Oct 23 14:29:08 2024 +0200
 4 files changed, 375 insertions(+), 225 deletions(-)
Successfully cherry-picked 1ae220deab7426535849d933549054e6eab47da8
----------------------------------------
Cherry-picking ccca941aeb830e9e9a17c68385a55f134b1a2125
Auto-merging net/core/filter.c
Auto-merging net/sched/cls_bpf.c
[main 0c3dbe1a8dd8] bpf: rename bpf_compute_data_end into bpf_compute_data_pointers
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Mon Sep 25 02:25:50 2017 +0200
 8 files changed, 22 insertions(+), 19 deletions(-)
Successfully cherry-picked ccca941aeb830e9e9a17c68385a55f134b1a2125
----------------------------------------
Cherry-picking 1e7728091335ac62f8671db10ad21d62e0836d22
Auto-merging drivers/net/tun.c
Auto-merging include/linux/skbuff.h
Auto-merging net/core/filter.c
Auto-merging net/core/skbuff.c
[main ac6eff590b46] bpf: add meta pointer for direct access
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Mon Sep 25 02:25:51 2017 +0200
 11 files changed, 271 insertions(+), 55 deletions(-)
Successfully cherry-picked 1e7728091335ac62f8671db10ad21d62e0836d22
----------------------------------------
Cherry-picking 436065b8170024f5ed39eb7570bb5372f7003f11
[main 800b9903f900] bpf: also improve pattern matches for meta access
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Wed Nov 1 23:58:10 2017 +0100
 1 file changed, 96 insertions(+), 40 deletions(-)
Successfully cherry-picked 436065b8170024f5ed39eb7570bb5372f7003f11
----------------------------------------
Cherry-picking a73cb1a95eabdf827e739b5b4b13a8a2cce01f6d
[main 76932f5e03f2] bpf: print liveness info to verifier log
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Nov 30 21:31:36 2017 -0800
 1 file changed, 20 insertions(+), 4 deletions(-)
Successfully cherry-picked a73cb1a95eabdf827e739b5b4b13a8a2cce01f6d
----------------------------------------
Cherry-picking f06f6a15282db2ebf7a06d250e48478b4606f445
[main 39facb1e140a] bpf: cleanup register_is_null()
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Nov 30 21:31:40 2017 -0800
 1 file changed, 11 insertions(+), 11 deletions(-)
Successfully cherry-picked f06f6a15282db2ebf7a06d250e48478b4606f445
----------------------------------------
Cherry-picking ef7d361c2a010dcde6b65e683864e374c14b2db9
[main 71cdd1c64737] bpf: introduce function calls (verification)
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Dec 14 17:55:06 2017 -0800
 2 files changed, 590 insertions(+), 158 deletions(-)
Successfully cherry-picked ef7d361c2a010dcde6b65e683864e374c14b2db9
----------------------------------------
Cherry-picking fbe8f5dbbf84f829bf3ff6b1be90eb6b65bf4858
Auto-merging kernel/bpf/core.c
[main a550ec3f4a5e] bpf: add support for bpf_call to interpreter
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Dec 14 17:55:13 2017 -0800
 4 files changed, 120 insertions(+), 31 deletions(-)
Successfully cherry-picked fbe8f5dbbf84f829bf3ff6b1be90eb6b65bf4858
----------------------------------------
Cherry-picking c17dc4df373cc00deec9c074db53a32b08c63e42
Auto-merging arch/arm64/net/bpf_jit_comp.c
Auto-merging kernel/bpf/core.c
[main bd2c9c258695] bpf: fix net.core.bpf_jit_enable race
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Dec 14 17:55:14 2017 -0800
 8 files changed, 11 insertions(+), 9 deletions(-)
Successfully cherry-picked c17dc4df373cc00deec9c074db53a32b08c63e42
----------------------------------------
Cherry-picking 16374ed897cec70b0a3d005ec41f7f1fc70d0b89
Auto-merging kernel/bpf/core.c
[main 03f3c58e9632] bpf: x64: add JIT support for multi-function programs
 Author: Alexei Starovoitov <ast@fb.com>
 Date: Thu Dec 14 17:55:15 2017 -0800
 6 files changed, 184 insertions(+), 6 deletions(-)
Successfully cherry-picked 16374ed897cec70b0a3d005ec41f7f1fc70d0b89
----------------------------------------
Cherry-picking b9a003fe499998ded869df1d50573d9adb95dcba
[main d15021cea0cc] bpf: Add bpf_patch_call_args prototype to include/linux/bpf.h
 Author: Andrii Nakryiko <andrii@kernel.org>
 Date: Mon Jan 11 23:55:14 2021 -0800
 2 files changed, 18 insertions(+), 6 deletions(-)
Successfully cherry-picked b9a003fe499998ded869df1d50573d9adb95dcba
----------------------------------------
Cherry-picking 21723f6d0569266290b7aa27b73edd8273923122
Auto-merging kernel/kallsyms.c
[main d249ff7f1f4a] stop using '%pK' for /proc/kallsyms pointer values
 Author: Linus Torvalds <torvalds@linux-foundation.org>
 Date: Wed Nov 8 12:51:04 2017 -0800
 1 file changed, 35 insertions(+)
Successfully cherry-picked 21723f6d0569266290b7aa27b73edd8273923122
----------------------------------------
Cherry-picking 92f166a3fb3e1960e85b145602cea5965b0115ba
Auto-merging include/linux/kallsyms.h
Auto-merging kernel/kallsyms.c
Auto-merging kernel/module.c
[main 26f89f87e478] /proc/module: use the same logic as /proc/kallsyms for address exposure
 Author: Linus Torvalds <torvalds@linux-foundation.org>
 Date: Sun Nov 12 18:44:23 2017 -0800
 3 files changed, 28 insertions(+), 3 deletions(-)
Successfully cherry-picked 92f166a3fb3e1960e85b145602cea5965b0115ba
----------------------------------------
Cherry-picking 96174225d5fe8616426536cd551cc41dfa0a65c3
Auto-merging kernel/bpf/core.c
[main b138423455c1] bpf: allow for correlation of maps and helpers in dump
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Wed Dec 20 13:42:57 2017 +0100
 6 files changed, 194 insertions(+), 24 deletions(-)
Successfully cherry-picked 96174225d5fe8616426536cd551cc41dfa0a65c3
----------------------------------------
Cherry-picking 4cf33ba56d3efd2b8e8ea635cd39024441ac3e50
[main 3218a26ee94d] bpf: annotate bpf_insn_print_t with __printf
 Author: Jakub Kicinski <jakub.kicinski@netronome.com>
 Date: Tue Jan 16 15:51:46 2018 -0800
 1 file changed, 2 insertions(+), 2 deletions(-)
Successfully cherry-picked 4cf33ba56d3efd2b8e8ea635cd39024441ac3e50
----------------------------------------
Cherry-picking 9d3b7e3686a9d2d5701b7f064fd91362e063fe01
[main 06f3ed41257b] bpf: Remove struct bpf_verifier_env argument from print_bpf_insn
 Author: Jiri Olsa <jolsa@kernel.org>
 Date: Fri Mar 23 11:41:28 2018 +0100
 4 files changed, 55 insertions(+), 51 deletions(-)
Successfully cherry-picked 9d3b7e3686a9d2d5701b7f064fd91362e063fe01
----------------------------------------
Cherry-picking 28f84e52d5490a0f0e4ada9ce305b517672d38cd
[main c0f635a76e2d] bpf/verifier: refine retval R0 state for bpf_get_stack helper
 Author: Yonghong Song <yhs@fb.com>
 Date: Sat Apr 28 22:28:09 2018 -0700
 1 file changed, 27 insertions(+)
Successfully cherry-picked 28f84e52d5490a0f0e4ada9ce305b517672d38cd
----------------------------------------
Cherry-picking 0b52f51c508016bff973d44af92bb52d9bec2e2a
[main 867531214095] bpf: Add iterator for spilled registers
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:29 2018 -0700
 2 files changed, 18 insertions(+), 9 deletions(-)
Successfully cherry-picked 0b52f51c508016bff973d44af92bb52d9bec2e2a
----------------------------------------
Cherry-picking 9e05af01e451d0a28eda810184f6f2b7a74c59ae
[main 2ba36cae591c] bpf: Generalize ptr_or_null regs check
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:32 2018 -0700
 1 file changed, 18 insertions(+), 15 deletions(-)
Successfully cherry-picked 9e05af01e451d0a28eda810184f6f2b7a74c59ae
----------------------------------------
Cherry-picking 37e768bc1114e49a18440c1f90c6960252a0b9d2
[main a1b506683e03] bpf: Macrofy stack state copy
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:34 2018 -0700
 1 file changed, 59 insertions(+), 45 deletions(-)
Successfully cherry-picked 37e768bc1114e49a18440c1f90c6960252a0b9d2
----------------------------------------
Cherry-picking f8d9a9a4565537284b2acf0308a949568bebaff2
[main 51afc2bb5658] bpf: introduce ARG_PTR_TO_MEM_OR_NULL
 Author: Gianluca Borello <g.borello@gmail.com>
 Date: Wed Nov 22 18:32:53 2017 +0000
 2 files changed, 4 insertions(+), 1 deletion(-)
Successfully cherry-picked f8d9a9a4565537284b2acf0308a949568bebaff2
----------------------------------------
Cherry-picking c0711038e6d9c3e30d4b4521f30b9c9712e7971b
[main 22d38e455fa9] bpf, verifier: detect misconfigured mem, size argument pair
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Sat Jan 20 01:24:29 2018 +0100
 1 file changed, 53 insertions(+), 21 deletions(-)
Successfully cherry-picked c0711038e6d9c3e30d4b4521f30b9c9712e7971b
----------------------------------------
Cherry-picking 99ff22f7402c3569ce43febe0c7f7f9bd7dc338b
[main 9f5d18096301] bpf: properly enforce index mask to prevent out-of-bounds speculation
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Thu May 24 02:32:53 2018 +0200
 2 files changed, 62 insertions(+), 24 deletions(-)
Successfully cherry-picked 99ff22f7402c3569ce43febe0c7f7f9bd7dc338b
----------------------------------------
Cherry-picking e02e50501b60a961cf7ceaec4ad41b40261f316c
[main 21ef1a4b918c] bpf: Add reference tracking to verifier
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:35 2018 -0700
 2 files changed, 300 insertions(+), 22 deletions(-)
Successfully cherry-picked e02e50501b60a961cf7ceaec4ad41b40261f316c
----------------------------------------
Cherry-picking b105daa31d84c77f798f589552985a05f64fadc5
Auto-merging kernel/bpf/hashtab.c
[main 2f852d8a0616] bpf: decouple btf from seq bpf fs dump and enable more maps
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Sun Aug 12 01:59:17 2018 +0200
 10 files changed, 71 insertions(+), 18 deletions(-)
Successfully cherry-picked b105daa31d84c77f798f589552985a05f64fadc5
----------------------------------------
Cherry-picking 3cf308003a463772b9e7ea4e3b4a70d83f5aa357
[main 0c5dbf6bce1d] bpf, x64: fix memleak when not converging on calls
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Wed May 2 20:12:23 2018 +0200
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 3cf308003a463772b9e7ea4e3b4a70d83f5aa357
----------------------------------------
Cherry-picking d1956f8134b9c498d9d027926f3233af8e0626e8
[main e6c2e072717c] bpf: fix maximum stack depth tracking logic
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Mon Dec 25 13:15:40 2017 -0800
 2 files changed, 67 insertions(+), 15 deletions(-)
Successfully cherry-picked d1956f8134b9c498d9d027926f3233af8e0626e8
----------------------------------------
Cherry-picking 26a6248eeac5d988e4a249f68a4c1fbb50057bff
[main 707511dc7b68] bpf: unify main prog and subprog
 Author: Jiong Wang <jiong.wang@netronome.com>
 Date: Wed May 2 16:17:17 2018 -0400
 2 files changed, 39 insertions(+), 27 deletions(-)
Successfully cherry-picked 26a6248eeac5d988e4a249f68a4c1fbb50057bff
----------------------------------------
Cherry-picking e87756221bd3c82d0abbb194ff80f7c54cd9e283
[main 31e575caba13] bpf: centre subprog information fields
 Author: Jiong Wang <jiong.wang@netronome.com>
 Date: Wed May 2 16:17:18 2018 -0400
 2 files changed, 48 insertions(+), 34 deletions(-)
Successfully cherry-picked e87756221bd3c82d0abbb194ff80f7c54cd9e283
----------------------------------------
Cherry-picking 77d3564fc07f5bce8fe624e1a06c0c31ae5edb7e
[main a3b36296a680] bpf: Add gpl_compatible flag to struct bpf_prog_info
 Author: Jiri Olsa <jolsa@kernel.org>
 Date: Wed Apr 25 19:41:06 2018 +0200
 2 files changed, 2 insertions(+)
Successfully cherry-picked 77d3564fc07f5bce8fe624e1a06c0c31ae5edb7e
----------------------------------------
Cherry-picking eabf23256de02b509ad3b45c42704495b03c08e4
[main 35af10c032d8] bpf: get kernel symbol addresses via syscall
 Author: Sandipan Das <sandipan@linux.vnet.ibm.com>
 Date: Thu May 24 12:26:48 2018 +0530
 3 files changed, 28 insertions(+), 5 deletions(-)
Successfully cherry-picked eabf23256de02b509ad3b45c42704495b03c08e4
----------------------------------------
Cherry-picking aa6372915c13e06f709607b51e5ce3d67231fb1d
[main ba1e733eb9b6] bpf: get JITed image lengths of functions via syscall
 Author: Sandipan Das <sandipan@linux.vnet.ibm.com>
 Date: Thu May 24 12:26:52 2018 +0530
 2 files changed, 23 insertions(+)
Successfully cherry-picked aa6372915c13e06f709607b51e5ce3d67231fb1d
----------------------------------------
Cherry-picking 4756b503e08f3ad364e5247a8b97e253527e8c57
Auto-merging kernel/bpf/core.c
[main ae35e5e7a0c5] bpf: Append prog->aux->name in bpf_get_prog_name()
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Thu Oct 5 21:52:13 2017 -0700
 1 file changed, 14 insertions(+), 2 deletions(-)
Successfully cherry-picked 4756b503e08f3ad364e5247a8b97e253527e8c57
----------------------------------------
Cherry-picking 0eb44128a4833429eb72a8b1a961338814afa4d2
[main e306750e4656] bpf: Expose check_uarg_tail_zero()
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Tue May 22 15:03:31 2018 -0700
 2 files changed, 8 insertions(+), 6 deletions(-)
Successfully cherry-picked 0eb44128a4833429eb72a8b1a961338814afa4d2
----------------------------------------
Cherry-picking 6504b89e97887c877ff2a89510133f03eedc05b1
[main a3928532db80] bpf: fix bpf_prog_get_info_by_fd to return 0 func_lens for unpriv
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Fri Nov 2 11:35:46 2018 +0100
 1 file changed, 1 insertion(+)
Successfully cherry-picked 6504b89e97887c877ff2a89510133f03eedc05b1
----------------------------------------
Cherry-picking 4170fb98d2ad84dbbd0ed2c4b00a1c59c06b040a
[main 0868da2370ea] bpf: btf: Add BTF_KIND_FUNC and BTF_KIND_FUNC_PROTO
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Mon Nov 19 15:29:08 2018 -0800
 2 files changed, 337 insertions(+), 53 deletions(-)
Successfully cherry-picked 4170fb98d2ad84dbbd0ed2c4b00a1c59c06b040a
----------------------------------------
Cherry-picking f1473b74bcc2085122c54b208d68e319c665d2ae
Auto-merging kernel/bpf/core.c
[main 4078de2be721] bpf: Introduce bpf_func_info
 Author: Yonghong Song <yhs@fb.com>
 Date: Mon Nov 19 15:29:11 2018 -0800
 8 files changed, 205 insertions(+), 11 deletions(-)
Successfully cherry-picked f1473b74bcc2085122c54b208d68e319c665d2ae
----------------------------------------
Cherry-picking 4d381511ac51f00a515443e6481a0d9cecb5e615
Auto-merging kernel/bpf/core.c
[main 4c07c98b116b] bpf: btf: support proper non-jit func info
 Author: Yonghong Song <yhs@fb.com>
 Date: Sat Nov 24 23:20:44 2018 -0800
 5 files changed, 62 insertions(+), 44 deletions(-)
Successfully cherry-picked 4d381511ac51f00a515443e6481a0d9cecb5e615
----------------------------------------
Cherry-picking 792114a16395e816c3a46f7d801cab2eba66ed47
[main 88e05fa481a5] bpf: don't leave partial mangled prog in jit_subprogs error path
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Thu Jul 12 21:44:28 2018 +0200
 1 file changed, 8 insertions(+), 2 deletions(-)
Successfully cherry-picked 792114a16395e816c3a46f7d801cab2eba66ed47
----------------------------------------
Cherry-picking bff6104ac544bf408325a8b48da9165c558523c0
Auto-merging kernel/bpf/core.c
[main 751f8cffcfa9] bpf: Add bpf_line_info support
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Fri Dec 7 16:42:25 2018 -0800
 10 files changed, 393 insertions(+), 29 deletions(-)
Successfully cherry-picked bff6104ac544bf408325a8b48da9165c558523c0
----------------------------------------
Cherry-picking ecf51ccd5f5a1916f76b538530dceea69d704254
Auto-merging kernel/bpf/core.c
[main dcf1ac5a81ad] bpf: reject any prog that failed read-only lock
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Fri Jun 15 02:30:48 2018 +0200
 3 files changed, 81 insertions(+), 28 deletions(-)
Successfully cherry-picked ecf51ccd5f5a1916f76b538530dceea69d704254
----------------------------------------
Cherry-picking 725dd13b1c09259a85bea51471c4df83fb9a2d20
[main d43795998008] bpf: Create a new btf_name_by_offset() for non type name use case
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Thu Dec 13 10:41:46 2018 -0800
 3 files changed, 18 insertions(+), 11 deletions(-)
Successfully cherry-picked 725dd13b1c09259a85bea51471c4df83fb9a2d20
----------------------------------------
Cherry-picking 7ad43791bef45c705850417baedff566cf9d6402
[main fbbe02a8fa91] bpf: fix a compilation error when CONFIG_BPF_SYSCALL is not defined
 Author: Yonghong Song <yhs@fb.com>
 Date: Tue Nov 20 14:08:20 2018 -0800
 1 file changed, 15 insertions(+)
Successfully cherry-picked 7ad43791bef45c705850417baedff566cf9d6402
----------------------------------------
Cherry-picking 766f8a6f7f381c95afe53f8d7f3188f46ed5bce5
[main 36812832d561] bpf: btf: Rename btf_key_id and btf_value_id in bpf_map_info
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Tue May 22 14:57:21 2018 -0700
 4 files changed, 18 insertions(+), 16 deletions(-)
Successfully cherry-picked 766f8a6f7f381c95afe53f8d7f3188f46ed5bce5
----------------------------------------
Cherry-picking 2debbfda724ed95a723b5880cf92bae06afa6624
Auto-merging kernel/bpf/helpers.c
[main 89369ffec1ab] bpf: introduce per-cpu cgroup local storage
 Author: Roman Gushchin <guro@fb.com>
 Date: Fri Sep 28 14:45:43 2018 +0000
 8 files changed, 170 insertions(+), 26 deletions(-)
Successfully cherry-picked 2debbfda724ed95a723b5880cf92bae06afa6624
----------------------------------------
Cherry-picking 2b21314346e0194749caf840b90c0308dade4a86
[main 900a119d9f9b] bpf: Define cgroup_bpf_enabled for CONFIG_CGROUP_BPF=n
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri May 25 08:55:22 2018 -0700
 1 file changed, 1 insertion(+)
Successfully cherry-picked 2b21314346e0194749caf840b90c0308dade4a86
----------------------------------------
Cherry-picking 45d66d02561ad06a34f8b6a87868299821b8d3bb
[main 8b8729e50b89] bpf: pass struct btf pointer to the map_check_btf() callback
 Author: Roman Gushchin <guroan@gmail.com>
 Date: Mon Dec 10 15:43:00 2018 -0800
 4 files changed, 7 insertions(+), 1 deletion(-)
Successfully cherry-picked 45d66d02561ad06a34f8b6a87868299821b8d3bb
----------------------------------------
Cherry-picking 46ba90eaeaf0fb303f34a562b3c1063e71ea3f9b
[main e0b8704c5d46] bpf: add bpffs pretty print for cgroup local storage maps
 Author: Roman Gushchin <guroan@gmail.com>
 Date: Mon Dec 10 15:43:01 2018 -0800
 3 files changed, 113 insertions(+), 1 deletion(-)
Successfully cherry-picked 46ba90eaeaf0fb303f34a562b3c1063e71ea3f9b
----------------------------------------
Cherry-picking a88c6f8a91a344f3e778dfb6767ddd82f1de4a16
[main 16412e809f32] bpf: btf: fix struct/union/fwd types with kind_flag
 Author: Yonghong Song <yhs@fb.com>
 Date: Sat Dec 15 22:13:51 2018 -0800
 2 files changed, 265 insertions(+), 22 deletions(-)
Successfully cherry-picked a88c6f8a91a344f3e778dfb6767ddd82f1de4a16
----------------------------------------
Cherry-picking 4d3e022139ab2d41cfa7763121a6072e52fb704d
[main bce62f5c4e4d] bpf: enable cgroup local storage map pretty print with kind_flag
 Author: Yonghong Song <yhs@fb.com>
 Date: Sat Dec 15 22:13:52 2018 -0800
 3 files changed, 35 insertions(+), 23 deletions(-)
Successfully cherry-picked 4d3e022139ab2d41cfa7763121a6072e52fb704d
----------------------------------------
Cherry-picking 88e509104e8eebd2b84021d0368f468d3cfd589d
Auto-merging kernel/Kconfig.locks
Auto-merging kernel/bpf/core.c
Auto-merging kernel/bpf/hashtab.c
Auto-merging kernel/bpf/helpers.c
Auto-merging net/core/filter.c
CONFLICT (content): Merge conflict in net/core/filter.c
error: could not apply 88e509104e8e... bpf: introduce bpf_spin_lock
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 88e509104e8eebd2b84021d0368f468d3cfd589d
Auto-resolving conflicts by accepting incoming changes...
[main 73a1f64fce59] bpf: introduce bpf_spin_lock
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Thu Jan 31 15:40:04 2019 -0800
 15 files changed, 953 insertions(+), 28 deletions(-)
----------------------------------------
Cherry-picking ac457ce07794367839157733ee3dc42059054fad
[main 662b9c7fc447] SQUASH! bpf: Add a bpf_sock pointer to __sk_buff and a bpf_sk_fullsock helpe
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Fri Oct 25 00:21:02 2024 +0200
 4 files changed, 187 insertions(+), 52 deletions(-)
Successfully cherry-picked ac457ce07794367839157733ee3dc42059054fad
----------------------------------------
Cherry-picking de476803f3a7c5828ef5629902c9a69ff91b0647
[main 20d09c4697d8] bpf: Add helper to retrieve socket in BPF
 Author: Joe Stringer <joe@wand.net.nz>
 Date: Tue Oct 2 13:35:36 2018 -0700
 3 files changed, 232 insertions(+), 1 deletion(-)
Successfully cherry-picked de476803f3a7c5828ef5629902c9a69ff91b0647
----------------------------------------
Cherry-picking 25bf2a4ec0c0c179af9cc17953eb7f560d72b434
Auto-merging kernel/bpf/core.c
[main ccf2393063e4] bpf: undo prog rejection on read-only lock failure
 Author: Daniel Borkmann <daniel@iogearbox.net>
 Date: Thu Jun 28 23:34:59 2018 +0200
 2 files changed, 11 insertions(+), 75 deletions(-)
Successfully cherry-picked 25bf2a4ec0c0c179af9cc17953eb7f560d72b434
----------------------------------------
Cherry-picking 215f466952117cd620669fff28208e8802a7be38
[main ea1ddd3a6617] fixup: add back code missed during BPF picking
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Fri Oct 25 20:18:50 2024 +0200
 2 files changed, 6 insertions(+), 1 deletion(-)
Successfully cherry-picked 215f466952117cd620669fff28208e8802a7be38
----------------------------------------
Cherry-picking 83acc577ea918b894dc96fc6de0594a38c869441
[main 1ee923014a16] xfrm: add documentation for xfrm device offload api
 Author: Shannon Nelson <shannon.nelson@oracle.com>
 Date: Mon Nov 20 14:26:07 2017 -0800
 2 files changed, 134 insertions(+)
 create mode 100644 Documentation/networking/xfrm_device.txt
Successfully cherry-picked 83acc577ea918b894dc96fc6de0594a38c869441
----------------------------------------
Cherry-picking c7ea34d5b3ddde4db64ae6a5b0c8fcc5c351dfdb
Auto-merging include/linux/skbuff.h
Auto-merging net/Kconfig
Auto-merging net/core/skbuff.c
Auto-merging net/ipv4/ip_output.c
Auto-merging net/ipv6/ip6_output.c
[main 435391746c57] sk_buff: add skb extension infrastructure
 Author: Florian Westphal <fw@strlen.de>
 Date: Tue Dec 18 17:15:16 2018 +0100
 5 files changed, 257 insertions(+), 1 deletion(-)
Successfully cherry-picked c7ea34d5b3ddde4db64ae6a5b0c8fcc5c351dfdb
----------------------------------------
Cherry-picking 1cf0d66c3192e095aa045cdc320203bdb12d00ed
[main 6e4fd910c439] netfilter: meta: secpath support
 Author: Florian Westphal <fw@strlen.de>
 Date: Wed Dec 6 16:18:16 2017 +0100
 2 files changed, 42 insertions(+)
Successfully cherry-picked 1cf0d66c3192e095aa045cdc320203bdb12d00ed
----------------------------------------
Cherry-picking eb69d005b0cd1450c0fae765d5c7022ef000590b
Auto-merging include/linux/skbuff.h
Auto-merging include/net/xfrm.h
[main 5d4d3c1b4389] net: move secpath_exist helper to sk_buff.h
 Author: Florian Westphal <fw@strlen.de>
 Date: Tue Dec 18 17:15:19 2018 +0100
 3 files changed, 11 insertions(+), 13 deletions(-)
Successfully cherry-picked eb69d005b0cd1450c0fae765d5c7022ef000590b
----------------------------------------
Cherry-picking 3c430bf5d5b0ec020dbf6aadb55027a0f9df87a1
Auto-merging include/net/xfrm.h
Auto-merging net/ipv4/esp4_offload.c
Auto-merging net/ipv6/esp6_offload.c
[main 54932771f98e] xfrm: Separate ESP handling from segmentation for GRO packets.
 Author: Steffen Klassert <steffen.klassert@secunet.com>
 Date: Wed Dec 20 10:41:31 2017 +0100
 7 files changed, 119 insertions(+), 135 deletions(-)
Successfully cherry-picked 3c430bf5d5b0ec020dbf6aadb55027a0f9df87a1
----------------------------------------
Cherry-picking e2966b15b0b61bc6e2918cb85c4a2864950d0c1e
Auto-merging include/linux/netdevice.h
Auto-merging include/net/xfrm.h
Auto-merging net/packet/af_packet.c
Auto-merging net/sched/sch_generic.c
[main e745efaa4c88] net: Add asynchronous callbacks for xfrm on layer 2.
 Author: Steffen Klassert <steffen.klassert@secunet.com>
 Date: Wed Dec 20 10:41:36 2017 +0100
 8 files changed, 174 insertions(+), 34 deletions(-)
Successfully cherry-picked e2966b15b0b61bc6e2918cb85c4a2864950d0c1e
----------------------------------------
Cherry-picking 5d9b639d8a334092be227b0550b83408c310fa5c
Auto-merging net/netfilter/Kconfig
Auto-merging net/netfilter/Makefile
[main 0bff7d04a481] netfilter: nf_tables: add support for native socket matching
 Author: Máté Eckl <ecklm94@gmail.com>
 Date: Mon May 28 09:15:33 2018 +0200
 4 files changed, 178 insertions(+)
 create mode 100644 net/netfilter/nft_socket.c
Successfully cherry-picked 5d9b639d8a334092be227b0550b83408c310fa5c
----------------------------------------
Cherry-picking 2fb299223ee3e2d78741a46a5874117db1f01803
Auto-merging net/core/Makefile
[main 9ad87d7a4be9] xdp: base API for new XDP rx-queue info concept
 Author: Jesper Dangaard Brouer <brouer@redhat.com>
 Date: Wed Jan 3 11:25:13 2018 +0100
 4 files changed, 117 insertions(+), 1 deletion(-)
 create mode 100644 include/net/xdp.h
 create mode 100644 net/core/xdp.c
Successfully cherry-picked 2fb299223ee3e2d78741a46a5874117db1f01803
----------------------------------------
Cherry-picking 0237a843a1ec308ec32d41c742a1c89bafee0709
[main b3ad49fe25dd] net: avoid including xdp.h in filter.h
 Author: Jesper Dangaard Brouer <brouer@redhat.com>
 Date: Tue Feb 13 14:15:36 2018 +0100
 1 file changed, 1 insertion(+), 1 deletion(-)
Successfully cherry-picked 0237a843a1ec308ec32d41c742a1c89bafee0709
----------------------------------------
Cherry-picking d4f6105e4534f98c160a1332d7195f36f1f27d0f
[main 5d7cc5e9ff7f] xdp: move struct xdp_buff from filter.h to xdp.h
 Author: Jesper Dangaard Brouer <brouer@redhat.com>
 Date: Tue Apr 17 16:45:37 2018 +0200
 2 files changed, 24 insertions(+), 23 deletions(-)
Successfully cherry-picked d4f6105e4534f98c160a1332d7195f36f1f27d0f
----------------------------------------
Cherry-picking 99a072ee271e8b401fb66b4bbf28157b5b9fdd27
Auto-merging include/linux/netdevice.h
[main ca65fbdaca51] xdp: generic XDP handling of xdp_rxq_info
 Author: Jesper Dangaard Brouer <brouer@redhat.com>
 Date: Wed Jan 3 11:26:09 2018 +0100
 2 files changed, 60 insertions(+), 10 deletions(-)
Successfully cherry-picked 99a072ee271e8b401fb66b4bbf28157b5b9fdd27
----------------------------------------
Cherry-picking dfa54f9d787f1214e5a26d2f579ff7b14ce2c70e
[main 73e89f69b916] bpf: Extend the sk_lookup() helper to XDP hookpoint.
 Author: Nitin Hande <nitin.hande@gmail.com>
 Date: Sun Oct 28 21:02:45 2018 -0700
 2 files changed, 98 insertions(+), 16 deletions(-)
Successfully cherry-picked dfa54f9d787f1214e5a26d2f579ff7b14ce2c70e
----------------------------------------
Cherry-picking 43bc351a12b0ce61f914fd8b9fc94dc9bf485859
[main 4b84aea7bf6e] bpf: Support socket lookup in CGROUP_SOCK_ADDR progs
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Fri Nov 9 10:54:01 2018 -0800
 1 file changed, 45 insertions(+)
Successfully cherry-picked 43bc351a12b0ce61f914fd8b9fc94dc9bf485859
----------------------------------------
Cherry-picking 4f9da4e05fb4d4df62849865b0272f92103ae122
[main 77762bd57d2f] bpf: Add struct bpf_tcp_sock and BPF_FUNC_tcp_sock
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Sat Feb 9 23:22:24 2019 -0800
 4 files changed, 228 insertions(+), 2 deletions(-)
Successfully cherry-picked 4f9da4e05fb4d4df62849865b0272f92103ae122
----------------------------------------
Cherry-picking bf6809da9882203316495b2e3ac6477ddfff7f25
Auto-merging kernel/trace/bpf_trace.c
[main 9e86dd178d68] bpf: add writable context for raw tracepoints
 Author: Matt Mullins <mmullins@fb.com>
 Date: Fri Apr 26 11:49:47 2019 -0700
 8 files changed, 92 insertions(+), 4 deletions(-)
Successfully cherry-picked bf6809da9882203316495b2e3ac6477ddfff7f25
----------------------------------------
Cherry-picking 9dd6aaf86ee44bf4dd6b1c542384ef5c4009f6bc
[main 53ddab406584] bpf: allow map helpers access to map values directly
 Author: Paul Chaignon <paul.chaignon@orange.com>
 Date: Tue Apr 24 15:07:54 2018 +0200
 1 file changed, 7 insertions(+), 15 deletions(-)
Successfully cherry-picked 9dd6aaf86ee44bf4dd6b1c542384ef5c4009f6bc
----------------------------------------
Cherry-picking 5e5e4a1ff21627e6b9714b6e080b4ef7a59bc6f3
[main 5e4a62772d2d] bpf/verifier: add ARG_PTR_TO_UNINIT_MAP_VALUE
 Author: Mauricio Vasquez B <mauricio.vasquez@polito.it>
 Date: Thu Oct 18 15:16:20 2018 +0200
 2 files changed, 7 insertions(+), 3 deletions(-)
Successfully cherry-picked 5e5e4a1ff21627e6b9714b6e080b4ef7a59bc6f3
----------------------------------------
Cherry-picking 0175e5069651ab4cf00f09746a2c1d9688d6b15d
[main 28b68cd0ea11] bpf: Introduce ARG_PTR_TO_{INT,LONG} arg types
 Author: Andrey Ignatov <rdna@fb.com>
 Date: Mon Mar 18 16:57:10 2019 -0700
 2 files changed, 29 insertions(+)
Successfully cherry-picked 0175e5069651ab4cf00f09746a2c1d9688d6b15d
----------------------------------------
Cherry-picking 5085e906aa25a3dee7db8ebb5791a573e5b29101
Auto-merging kernel/bpf/hashtab.c
Auto-merging kernel/bpf/helpers.c
[main 240f402e2596] bpf: introduce BPF_F_LOCK flag
 Author: Alexei Starovoitov <ast@kernel.org>
 Date: Thu Jan 31 15:40:09 2019 -0800
 7 files changed, 116 insertions(+), 15 deletions(-)
Successfully cherry-picked 5085e906aa25a3dee7db8ebb5791a573e5b29101
----------------------------------------
Cherry-picking 663d56d72add1698e26caf8113ef7427b8098bf1
Auto-merging include/net/sock.h
Auto-merging net/core/Makefile
[main 893f7652b08f] bpf: Introduce bpf sk local storage
 Author: Martin KaFai Lau <kafai@fb.com>
 Date: Fri Apr 26 16:39:39 2019 -0700
 11 files changed, 913 insertions(+), 5 deletions(-)
 create mode 100644 include/net/bpf_sk_storage.h
 create mode 100644 net/core/bpf_sk_storage.c
Successfully cherry-picked 663d56d72add1698e26caf8113ef7427b8098bf1
----------------------------------------
Cherry-picking ab7c0e08242303bbe1eb66073ed9f65ade8a2808
Auto-merging net/socket.c
[main 048c77df7c58] net: socket: add __sys_getsockopt() helper; remove in-kernel call to syscall
 Author: Dominik Brodowski <linux@dominikbrodowski.net>
 Date: Tue Mar 13 20:15:04 2018 +0100
 1 file changed, 9 insertions(+), 3 deletions(-)
Successfully cherry-picked ab7c0e08242303bbe1eb66073ed9f65ade8a2808
----------------------------------------
Cherry-picking 9452d8fcea23e2707268923e8ac0884e5213f832
Auto-merging net/socket.c
[main 48c5a77aea9c] net: socket: add __sys_setsockopt() helper; remove in-kernel call to syscall
 Author: Dominik Brodowski <linux@dominikbrodowski.net>
 Date: Tue Mar 13 20:10:59 2018 +0100
 1 file changed, 9 insertions(+), 3 deletions(-)
Successfully cherry-picked 9452d8fcea23e2707268923e8ac0884e5213f832
----------------------------------------
Cherry-picking 35867a8b69e62379d373b12dda84658b35e17211
Auto-merging kernel/bpf/core.c
Auto-merging net/socket.c
[main b1655ed6f709] bpf: implement getsockopt and setsockopt hooks
 Author: Stanislav Fomichev <sdf@google.com>
 Date: Thu Jun 27 13:38:47 2019 -0700
 11 files changed, 456 insertions(+), 1 deletion(-)
Successfully cherry-picked 35867a8b69e62379d373b12dda84658b35e17211
----------------------------------------
Cherry-picking 3231776fd18723b3686c3efea9b05b62ad201163
Auto-merging include/net/tcp.h
[main 8b1ee671627f] bpf: sockmap, refactor sockmap routines to work with hashmap
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Mon May 14 10:00:16 2018 -0700
 4 files changed, 95 insertions(+), 88 deletions(-)
Successfully cherry-picked 3231776fd18723b3686c3efea9b05b62ad201163
----------------------------------------
Cherry-picking 38361f602bf224f805d3fb784e5a92ab61edb4ac
Auto-merging kernel/bpf/core.c
[main f9dd1a085302] bpf: sockmap, add hash map support
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Mon May 14 10:00:17 2018 -0700
 7 files changed, 584 insertions(+), 21 deletions(-)
Successfully cherry-picked 38361f602bf224f805d3fb784e5a92ab61edb4ac
----------------------------------------
Cherry-picking 7a80089f48d03aba0db8dccd8f2ffef1f4dcb1d7
[main 2b7fdcaa645f] sockmap: convert refcnt to an atomic refcnt
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Sun Mar 18 12:56:54 2018 -0700
 1 file changed, 9 insertions(+), 11 deletions(-)
Successfully cherry-picked 7a80089f48d03aba0db8dccd8f2ffef1f4dcb1d7
----------------------------------------
Cherry-picking 1013142777db8bb452279dc696ea4ea0816bf132
Auto-merging net/ipv4/tcp.c
[main 74f05f927d65] net: do_tcp_sendpages flag to avoid SKBTX_SHARED_FRAG
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Sun Mar 18 12:57:00 2018 -0700
 2 files changed, 3 insertions(+), 1 deletion(-)
Successfully cherry-picked 1013142777db8bb452279dc696ea4ea0816bf132
----------------------------------------
Cherry-picking a6223b57a3eeb8f6030987e0ad0e47910f660a33
Auto-merging include/net/sock.h
Auto-merging net/core/sock.c
[main 38f99b28f770] sock: make static tls function alloc_sg generic sock helper
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Sun Mar 18 12:56:49 2018 -0700
 3 files changed, 65 insertions(+), 63 deletions(-)
Successfully cherry-picked a6223b57a3eeb8f6030987e0ad0e47910f660a33
----------------------------------------
Cherry-picking 6695d0e826b985ec2c2af697c1d65c836dcdbf7f
Auto-merging include/net/sock.h
Auto-merging net/core/sock.c
[main 02fd8e1b51fd] net: generalize sk_alloc_sg to work with scatterlist rings
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Sun Mar 18 12:57:05 2018 -0700
 3 files changed, 18 insertions(+), 14 deletions(-)
Successfully cherry-picked 6695d0e826b985ec2c2af697c1d65c836dcdbf7f
----------------------------------------
Cherry-picking 6aaa61a0836b1e16de0ce593f13ace9ab8397c18
[main 986ffb224c6f] lib/scatterlist: add sg_init_marker() helper
 Author: Prashant Bhole <bhole_prashant_q7@lab.ntt.co.jp>
 Date: Fri Mar 30 09:20:59 2018 +0900
 2 files changed, 18 insertions(+), 8 deletions(-)
Successfully cherry-picked 6aaa61a0836b1e16de0ce593f13ace9ab8397c18
----------------------------------------
Cherry-picking be364d66b09f5bdefb98b58747b27a61c350a045
[main 120ae5d811be] bpf: sockmap: fix typos
 Author: Roberto Sartori <roberto.sartori.android@gmail.com>
 Date: Sat Oct 26 17:41:04 2024 +0200
 1 file changed, 4 insertions(+), 4 deletions(-)
Successfully cherry-picked be364d66b09f5bdefb98b58747b27a61c350a045
----------------------------------------
Cherry-picking eae1d1c006b723897de7bcd5b96a832f0c9ba372
Auto-merging include/net/tcp.h
[main 94083db0a58e] bpf: sockmap, convert bpf_compute_data_pointers to bpf_*_sk_skb
 Author: John Fastabend <john.fastabend@gmail.com>
 Date: Thu Jul 5 08:50:15 2018 -0700
 2 files changed, 92 insertions(+), 7 deletions(-)
Successfully cherry-picked eae1d1c006b723897de7bcd5b96a832f0c9ba372
----------------------------------------
Cherry-picking 21d7aa53e05f5fb578fb59ad558c8db8427fe320
Auto-merging include/net/sock.h
Auto-merging include/net/tcp.h
Auto-merging kernel/bpf/core.c
Auto-merging net/Kconfig
Auto-merging net/core/Makefile
CONFLICT (content): Merge conflict in net/core/Makefile
Auto-merging net/ipv4/Makefile
Auto-merging net/ipv4/tcp.c
error: could not apply 21d7aa53e05f... bpf, sockmap: convert to generic sk_msg interface
hint: After resolving the conflicts, mark them with
hint: "git add/rm <pathspec>", then run
hint: "git cherry-pick --continue".
hint: You can instead skip this commit with "git cherry-pick --skip".
hint: To abort and get back to the state before "git cherry-pick",
hint: run "git cherry-pick --abort".
Conflict or error during cherry-pick of 21d7aa53e05f5fb578fb59ad558c8db8427fe320
Auto-resolving conflicts by accepting incoming changes...
